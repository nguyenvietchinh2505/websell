(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{173:function(e,t,n){"use strict";var r=n(0),c=n(14),a=n.n(c),l=n(900),o=n(893),i=n(9),s=n.n(i);n(182);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var c=j(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,c,i=d(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).state={animate:null},e.container=Object(r.createRef)(),e.onExited=e.onExited.bind(O(e)),e}return t=s,(n=[{key:"onExited",value:function(){var e=this.props.onExited;e&&e(this.container.current)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.animationKey,c=e.animate,i=a()("bwf-slide-animation",c&&"animate-".concat(c));return Object(r.createElement)("div",{className:i,ref:this.container},Object(r.createElement)(l.a,null,Object(r.createElement)(o.a,b({timeout:200,classNames:"slide",key:n},this.props,{onExited:this.onExited}),(function(e){return t({status:e})}))))}}])&&m(t.prototype,n),c&&m(t,c),s}(r.Component);w.propTypes={children:s.a.func.isRequired,animationKey:s.a.any.isRequired,animate:s.a.oneOf([null,"left","right"]),onExited:s.a.func},t.a=w},181:function(e,t,n){"use strict";var r=n(0),c=n(14),a=n.n(c),l=n(60),o=(n(321),n(8)),i=n(6),s=n(7),u=n(5);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){var t=e.data,n=void 0===t?[]:t,c=e.className,f=e.center,d=void 0!==f&&f,p=e.isDismissive,O=void 0!==p&&p,j=e.onDismisal,w=void 0===j?function(){}:j;if(Object(i.isEmpty)(n))return!1;return Object(r.createElement)("div",{className:a()("bwf-zero-state",c,{"bwf-block-t-center":d})},O&&Object(r.createElement)("span",{className:"bwf-layout-dismiss",onClick:function(){return w()},style:{transform:"rotate(45deg)"}},Object(r.createElement)(o.a,{icon:"plus",color:"#353030"})),Object(r.createElement)("div",{className:"bwf-zero-state-wrap"},n.map((function(e,t){return Object(r.createElement)(r.Fragment,{key:"section--"+t},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"icon":return Object(r.createElement)("div",{className:a()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content);case"actions":return Object(r.createElement)(l.a,{className:a()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.actions.map((function(e,t){return Object(r.createElement)(l.a,{key:"layout-block-"+t,className:a()("bwf-shadow"),gap:3,onClick:e.onClick},Object(r.createElement)(l.c,null,Object(r.createElement)("div",{className:"bwf-circle-mockup"},e.icon)),Object(r.createElement)(l.b,{className:"bwf_text_left"},e.heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-head",dangerouslySetInnerHTML:{__html:e.heading}}),e.sub_heading&&Object(r.createElement)("div",{className:"bwf-zero-sec-action-subhead",dangerouslySetInnerHTML:{__html:e.sub_heading}}),!Object(s.x)()&&Object(r.createElement)("div",{className:"bwf-zero-sec-lock"},Object(r.createElement)(o.a,{icon:"lock2",width:"22",height:"22"}))))})));case"buttons":return Object(r.createElement)(l.a,{className:a()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.buttons.map((function(e,t){return Object(r.createElement)(u.Button,m({isPrimary:!0,key:t,onClick:e.onClick,className:e.className},e.props),e.text,!1!==e.proCheck&&!Object(s.x)()&&Object(r.createElement)("div",{className:"bwf-zero-sec-lock"},Object(r.createElement)(o.a,{icon:"lock2",width:"22",height:"22"})))})));default:return Object(r.createElement)("div",{className:a()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content&&("object"===b(t.content)?t.content:Object(r.createElement)("div",{dangerouslySetInnerHTML:{__html:t.content}})))}}(e.type,e.data))}))))}},182:function(e,t,n){},239:function(e,t,n){"use strict";var r=n(0),c=n(14),a=n.n(c),l=n(2),o=n.n(l),i=n(5),s=n(1),u=n(60),b=n(8),m=n(9),f=n.n(m),d=(n(323),n(173));function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=function(e){var t=e.images,n=p(Object(r.useState)({img:t[0],index:0}),2),c=n[0],a=n[1],l=p(Object(r.useState)(null),2),o=l[0],s=l[1];return 1===t.length?Object(r.createElement)("img",{src:c.img,alt:"img",className:"bwf-carousel-image"}):Object(r.createElement)(r.Fragment,null,Object(r.createElement)(d.a,{animate:o,animationKey:Math.floor(100*Math.random())},(function(){return Object(r.createElement)("img",{src:c.img,alt:"img",className:"bwf-carousel-image",onDragStart:function(e){return e.preventDefault()}})})),Object(r.createElement)(u.a,{justify:"center",className:"bwf-carousel-control-wrap"},t.map((function(e,t){return Object(r.createElement)(i.FlexItem,{key:"bwf-carousel-img-"+t},Object(r.createElement)(i.Button,{className:"bwf-carousel-control-btn",onClick:function(){return function(e,t){t!==c.index&&(a({img:e,index:t}),t<c.index?s("right"):s("left"))}(e,t)}},Object(r.createElement)(b.a,{height:"8",width:"8",icon:"circle-xs".concat(t===c.index?"-fill":"")})))}))))};j.prototype={images:f.a.array.isRequired};var w=j;n(324);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.a=function(e){var t=e.isOpen,n=e.onRequestClose,c=e.modalContent,l=c.title,m=c.proLink,f=void 0===m?window.wffn.pro_link:m,d=c.proLabel,p=void 0===d?Object(s.__)("Upgrade to PRO Now","funnel-builder"):d,O=c.content;return t?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(i.Modal,{className:"bwf-admin-modal bwf-admin-modal-medium bwf-upgrade-pro-modal",isDismissible:!0,onRequestClose:function(){return n()},title:Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"bwf-upgrade-pro-modal__title"},l),Object(r.createElement)("span",{className:"bwf-upgrade-pro-modal__pro-badge"},"PRO"))},Object(r.createElement)("div",{className:"bwf-upgrade-pro-modal__content-wrap"},O&&("object"!==_(O)||o.a.isValidElement(O)?O:Object(r.createElement)(u.a,{align:"flex-start"},Object(r.createElement)(u.c,{className:a()({"bwf-w-3/5":O.images})},Object(r.createElement)("div",{className:"bwf-upgrade-pro-modal__modal-content"},Object(r.createElement)("div",{className:"bwf-upgrade-pro-modal__desc"},null==O?void 0:O.desc),O.benefits&&Object(r.createElement)("div",{className:"bwf-upgrade-pro-modal__benefits-container"},Object(r.createElement)("h1",{className:"bwf-upgrade-pro-modal__benefits-heading"},Object(s.__)("What will you get ?","funnel-builder")),(null==O?void 0:O.benefits)&&Object(r.createElement)("ul",null,null==O?void 0:O.benefits.map((function(e,t){return Object(r.createElement)("li",{key:"pro-order-bump-".concat(t)},Object(r.createElement)(b.a,{icon:"checkmark-circle",height:"16",width:"16"}),Object(r.createElement)("h1",null,e))})))))),O.images&&Object(r.createElement)(u.c,{className:"bwf-w-2/5"},Object(r.createElement)(w,{images:O.images}))))),Object(r.createElement)("a",{href:f,target:"__blank",rel:"noopener noreferrer",className:"components-button bwf-w-full bwf-upgrade-pro-modal__upgrade-btn"},p))):""}},321:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},553:function(e,t,n){"use strict";var r=n(20),c=["getStateProp"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}t.a=function(){var e=Object(r.a)("funnelList"),t=e.getStateProp;return l(l({},i(e,c)),{},{getFunnels:function(){return t("funnels")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total"))},getLoadingStatus:function(){return t("isLoading")},getMessage:function(){return t("message")},getCountData:function(){return t("countData")}})}},834:function(e,t,n){},844:function(e,t,n){},845:function(e,t,n){},883:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(133),a=n(6),l=n(12),o=n(11),i=n.n(o),s=n(5),u=n(1),b=(n(834),n(7)),m=n(14),f=n.n(m),d=n(8),p=n(669);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t=e.step,n=e.requestCreateStep,c=e.onRequestClose,l=e.isLoading,o=e.onCreationScreen,i=e.creationSuccess,b=e.clearAndCloseEverything,m=O(Object(r.useState)(""),2),f=m[0],d=m[1],j=O(Object(r.useState)(null),2),w=j[0],_=j[1],y=O(Object(r.useState)({}),2),v=y[0],h=y[1],g=function(){var e={};Object(a.isEmpty)(f)&&(e.title=Object(u.__)("Title: This field is required","funnel-builder")),w&&w.copyFrom&&!w.step&&(e.copyFrom=Object(u.__)("Copy From: This field is required","funnel-builder")),0===Object(a.size)(e)?n({copyFrom:w&&w.hasOwnProperty("step")?w.step:null,title:f}):h(e)};return Object(r.createElement)(r.Fragment,null,v&&Object(a.size)(v)>0&&Object(r.createElement)(s.Notice,{status:"error",isDismissible:!0,onRemove:function(){return h({})}},Object(r.createElement)("ul",null,Object.keys(v).map((function(e){return Object(r.createElement)("li",{key:e},v[e])})))),l||!o||i?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("form",{method:"post",action:"",className:"bwf-funnel-add-step",onSubmit:function(e){g(),e.preventDefault()}},Object(r.createElement)(s.TextControl,{label:Object(u.__)("Title","funnel-builder"),placeholder:Object(u.__)("Enter Name","funnel-builder"),value:f,onChange:function(e){return d(e)}}),Object(r.createElement)(p.a,{step:t,onStepSelected:function(e){return _(e)}}),Object(r.createElement)("div",{className:"".concat(isRtl?" wf_funnel_left_align":" wf_funnel_right_align")},Object(r.createElement)(s.Button,{className:"bwf-modal-cancel-btn",onClick:c,disabled:l},Object(u.__)("Cancel","funnel-builder")),Object(r.createElement)(s.Button,{isPrimary:!0,onClick:g,disabled:l,isBusy:l},Object(u.__)("Add","funnel-builder"))))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-modal-content"},Object(r.createElement)("div",{style:{marginTop:"-16px"}},Object(u.__)("Something went wrong, Pleas contact to support team","funnel-builder"))),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"".concat(isRtl?"bwf-t-left":"bwf-t-right")},Object(r.createElement)(s.Button,{isPrimary:!0,onClick:function(){c(),b()}},Object(u.__)("OK","funnel-builder")))))},_=n(38),y=n(18),v=n(54),h=n(93),g=n(53),E=n(666);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){var t=Object(h.a)(),n=t.getTemplates,l=t.getBuilders,o=t.getFilters,i=t.getDefaultBuilder,s=t.templateLoading,b=t.getActiveBuilder,m=t.getActiveGroup,f=t.getCurrentTemplate,d=t.getActiveStep,p=t.getActiveSubFilter,O=e.onImportComplete,j=e.isStoreCheckout,w=e.storeCheckoutId,_=(e.hasCheckoutStep,Object(v.a)()),y=_.setActiveGroup,g=(_.setActiveSubFilter,_.setActiveBuilder),k=_.setCurrentTemplate,S=x(x({wc_checkout:Object(u.__)("Checkout Pages","funnel-builder")},!j&&{landing:Object(u.__)("Sales Pages","funnel-builder")}),{},{upsell:Object(u.__)("One Click Upsells","funnel-builder"),wc_thankyou:Object(u.__)("Thank You Pages","funnel-builder")},!j&&{optin:Object(u.__)("Optin Pages","funnel-builder"),optin_ty:Object(u.__)("Optin Confirmation Pages","funnel-builder")}),A=Object(c.d)(),C=A.id,P=A.filter,T=A.builder,I=A.templateId,D=N(Object(r.useState)(!1),2),B=D[0],F=D[1],R=n();Object(r.useEffect)((function(){T&&(y(P),g(T),k({id:I}))}),[]);var M=function(e){return!(!e||!e.group_type)&&Object.keys(e.group_type)[0]};Object(r.useEffect)((function(){if(!Object(a.isEmpty)(R)&&!B&&T){var e=R[P][T][I];k({id:I,template:e}),F(!0)}}),[R]);var q=o(),z=l(),L=i(),U=b(),V=s(),$=m(),Y=f(),G=(d(),p()),K=function(){var e=L;return Object(a.isEmpty)(U)||(e=U),z&&z[$]&&!z[$][e]&&(e=z[$][L]?L:"elementor"),e},H=function(e,t,n){return("wc_checkout"===t||"optin"===t)&&G&&U?R[t][U][e].group_type[n||G]:e},Q=function(e){return"wc_checkout"===$?G===e.no_steps:"optin"!==$||e.group.includes(G)},W=function(e,t,n){var r="";return"landing"===$?r="sp":"optin"===$?r="op":"optin_ty"===$?r="op-confirmed":"wc_checkout"===$?r="checkouts":"upsell"===$?r="offer":"wc_thankyou"===$&&(r="order-confirmed"),"oxy"===n&&(n="oxygen"),("customizer"===n||"wc_checkout"===$&&"wp_editor"===n)&&(n="elementor"),"https://templates-".concat(n,".funnelswp.com/").concat(r,"/").concat(t.prevslug,"/")},J=j?"/store-checkout":0===C?"/templates":"/funnels/".concat(C);return Object(r.createElement)(E.a,{filters:q,templates:R,activeBuilder:K(),templateCards:function(){if(Object(a.isEmpty)(R)||Object(a.isEmpty)([$]))return{};var e=K(),t={};return R[$]&&R[$][e]&&(t=R[$][e]),t}(),editors:z,defaultBuilder:L,isTemplateLoading:V,activeTemplateGroup:$,templateGroup:S,previewData:function(){if(Object(a.isEmpty)(R)||"funnel"===$)return{};var e={},t=[],n=[];try{!function(){var r=K();for(var c in t=[],R[$][r]){var a=R[$][r][c];if(!a.build_from_scratch&&Q(a)){var l={};if(l.id=c,l.funnel=a.group_type?a.group_type[Object.keys(a.group_type)[0]]:c,l.slug=c,l.name=a.name,l.thumbnail=a.thumbnail,l.template=null==Y?void 0:Y.id,l.pro=a.pro,l.group_type=a.group_type,l.type=$,l.preview=null==a?void 0:a.prevslug,t.push(l),a.group_type)Object.values(a.group_type).forEach((function(e){var t=R[$][r][e];n.push({id:null==t?void 0:t.prevslug,preview:W(0,t,r)})}));else n.push({id:null==a?void 0:a.prevslug,preview:W(0,a,r)})}}var o=R[$][r][H(null==Y?void 0:Y.id,$)];e.activeTemplate={thumbnail:H(null==Y?void 0:Y.id,$),preview:W(null==Y||Y.id,o,r),slug:H(null==Y?void 0:Y.id,$),name:null!=Y&&Y.id?R[$][r][null==Y?void 0:Y.id].name:"",pro:null!=Y&&Y.id?R[$][r][null==Y?void 0:Y.id].pro:"",tempPro:null!=Y&&Y.id?R[$][r][H(null==Y?void 0:Y.id,$,!("wc_checkout"!==$&&"optin"!==$||!M(Y.template))&&M(Y.template))].pro:"",group:$,filters:!!o.group_type&&Object.keys(o.group_type),type:$,prevId:o.prevslug},e.thumbnails=t,e.previews=n}()}catch(e){console.log("Failed to prepare template preview data:",e)}return e},funnelId:j&&w?w:C,onImportComplete:O,templateFilterCheck:function(e,t){return"wc_checkout"===$?t===e.no_steps:"optin"!==$||e.group.includes(t)},activeFilter:G,showDefaultEditorNotice:!1,isStoreCheckout:j,parentRoute:J,showTemplatesNav:!j||0!==C,importApiPrefix:j?"store-checkout":"funnels"})},P=n(10),T=n(662),I=n(70),D=n(66),B=n(21);function F(e,t,n,r,c,a,l){try{var o=e[a](l),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(r,c)}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(e){var t=Object(c.d)(),n=t.id,a=t.builder,l=e.query,o=e.isOpen,m=e.setModalOpenState,d=e.hasCheckoutStep,p=e.funnelId,O=void 0===p?n:p,j=l.importType,g="wc_checkout"===j?"funnel":j,E=y.a.getAddStepData(),N=Object(_.a)(),k=N.addStep,S=N.addSubStep,x=N.endAddStep,A=N.updateFunnelViewLink,q=N.setCountData,z=N.fetch,L=Object(v.a)(),U=L.setActiveGroup,V=L.setActiveBuilder,$=L.setActiveSubFilter,Y=(0,Object(h.a)().getActiveGroup)(),G=Object(I.a)().getStatus,K=Object(D.a)().updateStatus,H=G(),Q=M(Object(r.useState)(null),2),W=Q[0],J=Q[1],X=l.path.startsWith("/store-checkout"),Z=(0,Object(B.a)().getGlobalCheckout)(),ee=("object"===R(Z)?Z:{}).funnel_id,te=void 0===ee?0:ee,ne=!!a||!!g,re=function(){m(!1),W?J(null):(V(""),U("funnel"),$(!1))};Object(r.useEffect)((function(){return function(){x()}}),[]),Object(r.useEffect)((function(){return E&&"type"in E&&(J(E),m(!0)),function(){re()}}),[E]);var ce=function(e){var t=W.is_substep,n=W.type,r=W.parent_id;e.status&&"data"in e&&(t?n in e.data.substeps&&Array.isArray(e.data.substeps[n])&&S(e.data.substeps[n][0],n,parseInt(r)):k(e.data))},ae=M(Object(r.useState)(!1),2),le=ae[0],oe=ae[1],ie=M(Object(r.useState)(null),2),se=ie[0],ue=ie[1],be=M(Object(r.useState)(!1),2),me=be[0],fe=be[1],de=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,c,a,l,o,s,u,m,f,d,p,j,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(!0),oe(!0),n=W.type,r=void 0===n?"":n,c=W.parent_id,a=void 0===c?0:c,l=W.is_substep,o=void 0!==l&&l,s=t.copyFrom,u=void 0===s?{}:s,m=t.title,f=void 0===m?"":m,d=u&&u.hasOwnProperty("key")?u.key:0,p="",o&&parseInt(a)>0&&(p="".concat(a,"/substeps/")),Object(b.y)()&&"wc_order_bump"===r&&(p="".concat(a,"/substeps/")),j="/woofunnels-admin/funnels/".concat(O,"/steps/").concat(p),Object(b.y)()&&(j="/woofunnels-admin/store-checkout/".concat(O,"/step/").concat(p)),e.prev=10,e.next=13,i()({method:"POST",path:Object(b.g)(j),data:{title:f,inherit_from:d,type:r}});case 13:(w=e.sent).hasOwnProperty("status")&&w.status?_e():ue(!1),w.hasOwnProperty("status")&&w.status&&ce(w),A(),w.hasOwnProperty("count_data")&&q(w.count_data),p&&"wc_order_bump"===r&&!H.is_orderbump&&K({is_orderbump:!0}),oe(!1),pe(!1),e.next=31;break;case 23:e.prev=23,e.t0=e.catch(10),console.log("Error While Creating Step: "),console.log(e.t0),ue(!1),A(),oe(!1),pe(!1);case 31:case"end":return e.stop()}}),e,null,[[10,23]])})),function(){var t=this,n=arguments;return new Promise((function(r,c){var a=e.apply(t,n);function l(e){F(a,r,c,l,o,"next",e)}function o(e){F(a,r,c,l,o,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=function(){J(null),x(),fe(!1),ue(null),m(!1)};if(e)var n=setTimeout((function(){clearTimeout(n),t()}),2e3);else t()},Oe=(W||{}).is_substep,je=!me&&W&&!(void 0!==Oe&&Oe)&&Object(r.createElement)(s.Button,{icon:"arrow-left-alt wffn-icon",onClick:function(){return J(null)}}),we=Object(r.createElement)(r.Fragment,null,je,W&&"wc_order_bump"===W.type?Object(u.__)("Add Order Bump","funnel-builder"):W&&"popup_title"in W?W.popup_title:"funnel"===g?X?Object(u.__)("Create Store Checkout","funnel-builder"):Object(u.__)("Funnel Templates","funnel-builder"):Object(u.__)("Add Step","funnel-builder"));Object(r.useEffect)((function(){W||!o&&!ne||"upsell"===Y||!g&&!X||a||("step"===g?U("wc_checkout"):"funnel"===g&&U("funnel"))}),[o,ne]);var _e=function(){delete l.importType,delete l.group,Object(P.k)({},Object(P.g)(),l),re()};return Object(r.createElement)(r.Fragment,null,(o||ne)&&Object(r.createElement)(s.Modal,{title:we,isDismissible:!le,onRequestClose:function(){W&&pe(),_e(),Object(b.y)()?Object(P.k)({},"/store-checkout"):Object(P.k)({},"/funnels/".concat(O))},className:f()("bwf-admin-modal",{"bwf-admin-modal-full-screen bwf-add-step-modal":!W,"bwf-admin-modal-squeezy":W}),shouldCloseOnClickOutside:W&&!le,overlayClassName:"wffn_step_template_modal"},!me&&!W&&g&&("funnel"===g?Object(r.createElement)(T.default,{onImportComplete:function(){_e(),X?(z(parseInt(te)),Object(P.k)({},"/store-checkout")):(z(parseInt(O)),Object(P.k)({},"/funnels/".concat(O)))},isStoreCheckout:X,storeCheckoutId:te}):Object(r.createElement)(C,{onImportComplete:function(){_e(),X?(z(parseInt(te)),Object(P.k)({},"/store-checkout")):(z(parseInt(O)),Object(P.k)({},"/funnels/".concat(O)))},isStoreCheckout:X,storeCheckoutId:te,hasCheckoutStep:d})),W&&Object(r.createElement)(w,{step:W,requestCreateStep:de,onRequestClose:re,onCreationScreen:me,clearAndCloseEverything:pe,creationSuccess:se,isLoading:le})))};function L(e,t,n,r,c,a,l){try{var o=e[a](l),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(r,c)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=function(e){var t=e.funnelId,n=void 0===t?0:t,c=y.a.getDuplicateStepData(),a=c.step,l=c.stepPos,o=c.shouldDuplicate,m=c.substepOf,f=void 0===m?null:m,d=U(Object(r.useState)(!1),2),p=d[0],O=d[1],j=U(Object(r.useState)(null),2),w=j[0],v=j[1],h=U(Object(r.useState)(null),2),E=h[0],N=h[1],k=Object(_.a)(),S=k.addStep,x=k.addSubStep,A=k.endDuplicateStep,C=k.setCountData,P=function(){var e=setTimeout((function(){A(),clearTimeout(e)}),2e3)},T=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,t=f&&"id"in f?"".concat(f.id,"/substeps/"):"",r="/woofunnels-admin/funnels/".concat(n,"/steps/").concat(t),Object(b.y)()&&"wc_order_bump"===a.type&&(r="/woofunnels-admin/store-checkout/".concat(n,"/step/").concat(t)),e.next=7,i()({method:"POST",path:Object(b.g)(r),data:{duplicate_id:a.id,type:a.type}});case 7:"status"in(c=e.sent)&&c.status?(f&&"id"in f?x(c.data,a.type,f.id):S(c.data,l),v(null),A(),c.hasOwnProperty("count_data")&&C(c.count_data)):(N({message:Object(u.__)("There are some technical difficulties while duplicating step. Contact Support","funnel-builder")}),v(!1)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),N(e.t0),v(!1);case 16:O(!1),P();case 18:case"end":return e.stop()}}),e,null,[[1,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,c){var a=e.apply(t,n);function l(e){L(a,r,c,l,o,"next",e)}function o(e){L(a,r,c,l,o,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){v(null),a&&T()}),[a]),o?Object(r.createElement)(s.Modal,{isDismissible:!1,title:!1===w?Object(u.__)("Failed"):"",onRequestClose:A,className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-no-header"},p&&Object(r.createElement)("div",{className:"bwf-t-center bwf-mt-10"},Object(r.createElement)(g.a,{size:"xxl"}),Object(r.createElement)("div",{className:"bwf-h1 bwf-mt-20"}," ",Object(u.__)("Please wait…","funnel-builder")),Object(r.createElement)("div",{className:"bwf-h4 bwf-h4-grey"}," ",Object(u.__)("We are duplicating step in the funnel","funnel-builder"))),!p&&!0===w&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{style:{width:"100px",display:"inline-block"},dangerouslySetInnerHTML:{__html:wffn.icons.success_check}})),!p&&!0===w&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf-h1"}," ",Object(u.__)("Step Duplicated","funnel-builder")))),!p&&!1===w&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:""},Object(r.createElement)("div",{className:"bwf-p"}," ",Object(u.__)("Error: ","funnel-builder")+E&&"message"in E?E.message:Object(u.__)("There are some technical difficulties while duplicating step. Please contact support","funnel-builder")," "))),!p&&!1===w&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-modal-action".concat(isRtl?" wf_funnel_left_align":" wf_funnel_right_align")},Object(r.createElement)(s.Button,{className:"bwf-modal-confirm-btn",isPrimary:!0,onClick:A},Object(u.__)("OK"))))):null},Y=n(26),G=n(35),K=n(17),H=["override_global_checkout"];function Q(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function W(e,t,n,r,c,a,l){try{var o=e[a](l),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(r,c)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e){var t=e.funnelId,n=void 0===t?0:t,c=y.a.getDeleteStepData(),a=c.step,l=c.stepPos,o=c.shouldDelete,m=c.substepOf,f=void 0===m?null:m,d=Object(K.a)().removeGlobalCheckout,p=Object(D.a)().updateStatus,O=J(Object(r.useState)(!1),2),j=O[0],w=O[1],v=J(Object(r.useState)(null),2),h=v[0],g=v[1],E=J(Object(r.useState)(null),2),N=E[0],k=E[1],S=(0,Object(G.a)().getModalData)(),x=Object(_.a)(),A=x.removeStep,C=x.removeSubStep,P=x.endDeleteStep,T=x.updateFunnelViewLink,I=x.setCountData,B=x.fetch,F=function(){var e=setTimeout((function(){clearTimeout(e),g(null),P()}),2e3)},R=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,r,c,o,s,m,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return t=a.id,r=a.type,w(!0),e.prev=4,c=f&&"id"in f?"".concat(f.id,"/substeps/").concat(t):t,o="/woofunnels-admin/funnels/".concat(n,"/steps/").concat(c),Object(b.y)()&&(o="/woofunnels-admin/store-checkout/".concat(n,"/step/").concat(c)),e.next=10,i()({method:"POST",path:Object(b.g)(o),headers:{"X-HTTP-Method-Override":"DELETE"},data:{type:r}});case 10:if(!("status"in(s=e.sent))||!s.status){e.next=24;break}if(f&&"id"in f?C(f.stepPos,l,r):A(l),g(null),P(),s.hasOwnProperty("count_data")&&I(s.count_data),s.setup&&((m=s.setup).override_global_checkout,O=Q(m,H),p(O)),w(!1),"wc_checkout"!==r){e.next=22;break}return d({stepId:t}),B(n),e.abrupt("return");case 22:e.next=27;break;case 24:k({message:Object(u.__)("There are some technical difficulties while deleting step. Contact Support","funnel-builder")}),w(!1),g(!1);case 27:e.next=35;break;case 29:e.prev=29,e.t0=e.catch(4),console.log(e.t0),k(e.t0.message),w(!1),g(!1);case 35:F(),T();case 37:case"end":return e.stop()}}),e,null,[[4,29]])})),function(){var t=this,n=arguments;return new Promise((function(r,c){var a=e.apply(t,n);function l(e){W(a,r,c,l,o,"next",e)}function o(e){W(a,r,c,l,o,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();return o?Object(r.createElement)(s.Modal,{isDismissible:!0,title:!1===h?Object(u.__)("Failed"):Object(u.__)("Delete Step"),onRequestClose:P,className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-no-header"},null===h&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-modal-content"},S.title?Object(r.createElement)(r.Fragment,null,Object(u.__)("You are about to delete ","funnel-builder"),Object(r.createElement)("strong",null,Object(Y.decodeEntities)(S.title)),Object(u.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","funnel-builder")):Object(u.__)("You are about to delete step. This action cannot be undone. Cancel to stop, Delete to proceed.","funnel-builder")),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"".concat(isRtl?"bwf-t-left":"bwf-t-right")},Object(r.createElement)(s.Button,{onClick:P,className:"bwf-modal-cancel-btn"},Object(u.__)("Cancel","funnel-builder")),Object(r.createElement)(s.Button,{isPrimary:!0,isBusy:j,"aria-disabled":j,onClick:R},Object(u.__)("Delete","funnel-builder")))),!j&&!1===h&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-modal-content"},N)),!j&&!1===h&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-modal-action".concat(isRtl?" wf_funnel_left_align":" wf_funnel_right_align")},Object(r.createElement)(s.Button,{className:"bwf-modal-confirm-btn",isPrimary:!0,onClick:P},Object(u.__)("OK"))))):null},ee=n(667),te=n(239);function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=function(e){var t=e.type,n=void 0===t?"upsell":t,c=e.onClick,a=e.modalContent,l=ne(Object(r.useState)(!1),2),o=l[0],s=l[1],u=Object(_.a)().setShowAddStepModal,b=Object(v.a)().setActiveGroup,m=Object(K.a)().setStepPromotion;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:f()("bwf-st-c-wrap bwf-st-c__lite-card",["bwf-st-lite-".concat(n)])},Object(r.createElement)("div",{className:"bwf-st-c",onClick:function(){return s(!0)}},Object(r.createElement)("span",{className:"bwf-d-icon-drag",style:{marginTop:"3px"}},Object(r.createElement)(d.a,{icon:"lock",color:"#353030",size:18})),Object(r.createElement)("div",{className:"bwf-st-c-title",style:{marginLeft:"-3px"}},Object(r.createElement)("a",{href:"#",onClick:function(e){return e.preventDefault()}},"upsell"===n?"One Click Upsell":"Order Bump"),Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-head bwf-st-c-badge-small bwf-st-c-badge-green bwf-cursor-text"},Object(r.createElement)(d.a,{icon:"chart-increase",width:"12",height:"12",color:"green"}),Object(r.createElement)("span",null,"Increases average order value")))),Object(r.createElement)("div",{className:"bwf-card-controls"},Object(r.createElement)("div",{className:"bwf-card-action",onClick:function(){"upsell"===n?(Object(P.k)({importType:"step"}),u(!0),b("upsell")):c&&c()},role:"button",tabIndex:"-1"},"View Templates"),Object(r.createElement)("div",{className:"bwf-card-action bwf-close-icon",onClick:function(e){var t;e.stopPropagation(),t="/woofunnels-admin/".concat("upsell"===n?"remove-upsell-promotion":"remove-bump-promotion"),i()({path:t,method:"POST",data:{user_id:wffn.currrent_logged_user}}).then((function(e){e.status&&m("yes","upsell"===n?"upsell":"bump")})).catch((function(e){return console.log(e)}))}},Object(r.createElement)(d.a,{icon:"close",size:16}))))),Object(r.createElement)(te.a,{isOpen:o,onRequestClose:function(){return s(!1)},modalContent:a}))},ae=(n(61),n(60)),le=n(144),oe=n(153),ie=n(27);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var de=window.wffn.is_ab_experiment,pe=window.wffn.is_ab_experiment_support,Oe=function(e){var t=e.bump,n=t._data,o=void 0===n?{}:n,i=t.tags,m=(t.experiment,t.experiment_status),p=e.bump,O=e.checkoutStep,j=e.checkoutPos,w=e.stepPos,y=e.view,v=o.title,h=o.edit,g=o.status,E=Object(c.d)().id,N=Object(ie.a)().setModalData,k=me(Object(r.useState)(!1),2),S=k[0],x=k[1],A=me(Object(r.useState)(!1),2),C=A[0],T=A[1],I=Object(_.a)(),D=I.startDuplicateStep,B=I.startDeleteStep,F=I.setStepTitle,R=(location&&location.search&&Object(l.parse)(location.search.substring(1)),function(){if(p.hasOwnProperty("id")&&p.id){F(Object(Y.decodeEntities)(v)+Object(u.__)(" A/B Test","funnel-builder"));var e="/funnels/".concat(E,"/experiments/").concat(p.id);Object(b.y)()&&(e="/store-checkout/experiments/".concat(p.id)),Object(P.k)({},e)}}),M={1:Object(u.__)("A/B Test Draft","funnel-builder"),2:Object(u.__)("A/B Test Running","funnel-builder"),3:Object(u.__)("A/B Test Paused","funnel-builder"),4:Object(u.__)("A/B Test Completed","funnel-builder")},q={1:"bwf-exp-draft",2:"bwf-exp-running",3:"bwf-exp-paused",4:"bwf-exp-completed"},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?q[e]:M[e]};return Object(r.createElement)("div",{className:"bwf-st-c"},Object(r.createElement)("span",{title:"Click here and start drag and drop",className:"bwf-d-icon-drag"},Object(r.createElement)(d.a,{icon:"direction-right",width:24,height:20})),Object(r.createElement)("div",{className:"bwf-st-c-title"},Object(r.createElement)("a",{href:Object(Y.decodeEntities)(h),title:Object(Y.decodeEntities)(v)},Object(Y.decodeEntities)(v))),!(g&&1===g)&&Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-badge-small bwf-st-c-badge-gray"},Object(u.__)("Draft","funnel-builder"))),Object(a.size)(i)>0&&Object.keys(i).map((function(e){return Object(r.createElement)("div",{key:e,className:"bwf-st-c-badge-wrap",onClick:function(){"no_product"===e&&window.open(Object(Y.decodeEntities)(h),"_self")}},Object(r.createElement)("div",{className:"bwf-st-c-badge-small "+i[e].label_class},i[e].label))})),!Object(a.isEmpty)(m)&&Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap",onClick:function(){de?pe?R():x(!0):T(!0)}},Object(r.createElement)("div",{className:f()("bwf-st-c-badge-small",z(m,!0))},z(m))),Object(r.createElement)("div",{className:"bwf-card-controls"},Object(r.createElement)("a",{target:"_blank",onClick:function(){de?pe?R():x(!0):T(!0)},title:"A/B Test Step",className:"bwf-card-action"},Object(r.createElement)(d.a,{icon:"experiment",width:"16",height:"16"}),Object(r.createElement)("span",null,Object(u.__)("A/B Test","funnel-builder"))),Object(r.createElement)("a",{href:Object(Y.decodeEntities)(h),title:"Edit Step",className:"bwf-card-action"},Object(r.createElement)(d.a,{icon:"edit",width:"16",height:"16"}),Object(r.createElement)("span",null,Object(u.__)("Edit","funnel-builder"))),Object(r.createElement)("a",{href:y,title:"View Step",className:"bwf-card-action",target:"_blank",rel:"noreferrer"},Object(r.createElement)(d.a,{icon:"view",width:"18",height:"18"}),Object(r.createElement)("span",null,Object(u.__)("View","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-card-action  is-ellipsis-menu"},Object(r.createElement)(le.a,{className:"bwf-c-ellipsis",label:Object(u.__)("Quick Actions","funnel-builder"),renderContent:function(e){var t=e.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(oe.a,{isClickable:!0,onInvoke:function(){t(),D(ue(ue({},p),{},{type:"wc_order_bump"}),0,O)}},Object(r.createElement)(ae.a,{justify:"flex-start"},Object(r.createElement)(ae.c,null,Object(r.createElement)(d.a,{icon:"duplicate",width:"18",height:"18"})),Object(r.createElement)(ae.c,null,Object(u.__)("Duplicate","funnel-builder")))),Object(r.createElement)(oe.a,{isClickable:!0,onInvoke:function(){t(),N({title:v}),B(ue(ue({},p),{},{type:"wc_order_bump"}),w,ue(ue({},O),{},{stepPos:j}))}},Object(r.createElement)(ae.a,{justify:"flex-start"},Object(r.createElement)(ae.c,null,Object(r.createElement)(d.a,{icon:"trash",width:"18",height:"18"})),Object(r.createElement)(ae.c,null,Object(u.__)("Delete","funnel-builder")))))}}))),Object(r.createElement)("div",{className:"bwf-step-type bwf-step-type-ob"},Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-head bwf-st-c-badge-small bwf-st-c-badge-gray bwf-cursor-text"},Object(u.__)("Order Bump","funnel-builder")))),S&&Object(r.createElement)(s.Modal,{className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-no-header",isDismissible:!1,onRequestClose:function(){return x(!1)}},Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf-h1 bwf_align_center"},Object(u.__)("Oops it seems old version of Experiments is activated.","funnel-builder")),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-p"},Object(u.__)("Please deactivate, You won't loose existing experiments for the funnel."))),Object(r.createElement)("div",{className:"bwf_clear_30"})),Object(r.createElement)(te.a,{isOpen:C,onRequestClose:function(){return T(!1)},modalContent:{title:Object(u.__)("Order Bump unlock screen","funnel-builder"),content:{benefits:[Object(u.__)("Eye-catching bump styles","funnel-builder"),Object(u.__)("Targeted offers based on cart contents","funnel-builder"),Object(u.__)("Increased product discoverability","funnel-builder")],desc:Object(u.__)("Increase order value by recommending relevant cross-sells on the checkout page, that users can add to their order.","funnel-builder")},proLink:Object(b.p)(["Order","Bump","Upgrade","Modal"])}}))};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=window.wffn.is_ab_experiment,ge=window.wffn.is_ab_experiment_support,Ee=function(e){var t=e.step,n=(t=void 0===t?{}:t)._data,l=void 0===n?{}:n,o=t.tags,i=void 0===o?[]:o,m=(t.experiment,t.substeps),p=(m=void 0===m?{}:m).wc_order_bump,O=void 0===p?[]:p,j=t.id,w=void 0===j?0:j,y=t.experiment_status,v=e.step,h=e.stepPos,g=void 0===h?0:h,E=e.title,N=e.isOBFake,k=Object(c.d)().id,S=l.title,x=l.view,A=l.edit,C=l.status,T=void 0===C?0:C,I=Object(ie.a)().setModalData,D=Object(_.a)(),F=D.startDuplicateStep,R=D.startDeleteStep,M=D.startAddStep,q=D.setShowProModal,z=D.setShowProModalText,L=D.setStepTitle,U=(D.fetch,(0,Object(B.a)().getGlobalCheckout)()),V=U&&U.checkout_id&&Number(U.checkout_id)===v.id,$=ye(Object(r.useState)(i),2),G=$[0],K=$[1],H=ye(Object(r.useState)(!1),2),Q=H[0],W=H[1],J=ye(Object(r.useState)(!1),2),X=J[0],Z=J[1];Object(r.useEffect)((function(){0!==Object(a.size)(O)||"no_bump"in i||K(we(we({},G),{},{no_bump:{label:Object(u.__)("No Order Bump","funnel-builder"),label_class:"bwf-st-c-badge-red"}}))}),[O.length]);var ee=Object(b.r)("wc_order_bump"),ne={1:Object(u.__)("A/B Test Draft","funnel-builder"),2:Object(u.__)("A/B Test Running","funnel-builder"),3:Object(u.__)("A/B Test Paused","funnel-builder"),4:Object(u.__)("A/B Test Completed","funnel-builder")},re={1:"bwf-exp-draft",2:"bwf-exp-running",3:"bwf-exp-paused",4:"bwf-exp-completed"},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?re[e]:ne[e]},ue=function(e){null!==ee&&M(we(we({},ee),{},{parent_id:parseInt(w),is_substep:!0,title:"Order Bump"})),!ee&&q(!0),!ee&&z(Object(u.__)("Order Bump is a part of Funnel Builder Pro","funnel-builder")),e.preventDefault()},be=function(){if(w){L(Object(Y.decodeEntities)(S)+Object(u.__)(" A/B Test"));var e="/funnels/".concat(k,"/experiments/").concat(w);Object(b.y)()&&(e="/store-checkout/experiments/".concat(w)),Object(P.k)({},e)}};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-st-c-title"},Object(r.createElement)("a",{href:Object(Y.decodeEntities)(A),title:Object(Y.decodeEntities)(S)},Object(Y.decodeEntities)(S)," ")),!(T&&1===parseInt(T))&&Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-badge-small bwf-st-c-badge-gray"},Object(u.__)("Draft","funnel-builder"))),Object(a.size)(i)>0&&Object.keys(G).map((function(e){return("no_bump"!==e||0===Object(a.size)(O))&&"global_checkout"!==e&&Object(r.createElement)("div",{key:e,className:"bwf-st-c-badge-wrap",onClick:function(t){if("no_product"===e){var n=Object(Y.decodeEntities)(A)+"&section=product";window.open(n,"_self")}else"no_bump"===e&&ue(t)}},Object(r.createElement)("div",{className:"bwf-st-c-badge-small "+G[e].label_class},G[e].label))})),V&&Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap bwf-cursor-text"},Object(r.createElement)("div",{className:"bwf-st-c-badge-small bwf-st-c-badge-yellow"},Object(u.__)("Global Checkout","funnel-builder"))),!Object(a.isEmpty)(y)&&Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap",onClick:function(){he&&ge&&be()}},Object(r.createElement)("div",{className:f()("bwf-st-c-badge-small",se(y,!0))},se(y))),Object(r.createElement)("div",{className:"bwf-card-controls"},Object(r.createElement)("a",{target:"_blank",onClick:function(){he?ge?be():W(!0):Z(!0)},title:"A/B Test Step",className:"bwf-card-action"},Object(r.createElement)(d.a,{icon:Object(b.x)()?"experiment":"lock",width:"18",height:"16"}),Object(r.createElement)("span",null,Object(u.__)("A/B Test","funnel-builder"))),Object(r.createElement)("a",{href:Object(Y.decodeEntities)(A),title:"Edit Step",className:"bwf-card-action"},Object(r.createElement)(d.a,{icon:"edit",width:"16",height:"16"}),Object(r.createElement)("span",null,Object(u.__)("Edit","funnel-builder"))),Object(r.createElement)("a",{href:Object(Y.decodeEntities)(x),title:"View Step",className:"bwf-card-action",target:"_blank",rel:"noreferrer"},Object(r.createElement)(d.a,{icon:"view",width:"18",height:"18"}),Object(r.createElement)("span",null,Object(u.__)("View","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-card-action  is-ellipsis-menu"},Object(r.createElement)(le.a,{className:"bwf-c-ellipsis",label:Object(u.__)("Quick Actions","funnel-builder"),renderContent:function(e){var t=e.onToggle;return Object(r.createElement)(r.Fragment,null,!Object(b.y)()&&Object(r.createElement)(oe.a,{isClickable:!0,onInvoke:function(){t(),F(v,g+1)}},Object(r.createElement)(ae.a,{justify:"flex-start"},Object(r.createElement)(ae.c,null,Object(r.createElement)(d.a,{icon:"duplicate",width:"18",height:"18"})),Object(r.createElement)(ae.c,null,Object(u.__)("Duplicate","funnel-builder")))),Object(r.createElement)(oe.a,{isClickable:!0,onInvoke:function(){t(),I({title:S}),R(v,g)}},Object(r.createElement)(ae.a,{justify:"flex-start"},Object(r.createElement)(ae.c,null,Object(r.createElement)(d.a,{icon:"trash",width:"18",height:"18"})),Object(r.createElement)(ae.c,null,Object(u.__)("Delete","funnel-builder")))))}}))),Object(r.createElement)("div",{className:f()("bwf-step-type",{"bwf-step-type-checkout":Object(b.x)()})},Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-head bwf-st-c-badge-small bwf-st-c-badge-gray bwf-cursor-text"},E))),Object(r.createElement)(te.a,{isOpen:X,onRequestClose:function(){return Z(!1)},modalContent:{title:Object(u.__)("A/B Testing","funnel-builder"),content:{benefits:[Object(u.__)("Increased Conversion Rates","funnel-builder"),Object(u.__)("Greater Return on Ad Spend","funnel-builder"),Object(u.__)("Reduced Bounce Rates","funnel-builder")],desc:Object(u.__)("Test different variants of your landing pages, order bumps, and one-click upsells. Discover the winners and uncover profits.","funnel-builder")},proLink:Object(b.p)(["Checkout","AB_Test"])}}),Q&&Object(r.createElement)(s.Modal,{className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-no-header",isDismissible:!1,onRequestClose:function(){return W(!1)}},Object(r.createElement)("div",{className:"bwf-modal-custom-header bwf-flex bwf--space-between"},Object(r.createElement)("div",{className:"bwf-modal-title"},Object(u.__)("Oops it seems old version of Experiments is activated."))),Object(r.createElement)("div",{className:"bwf-modal-content"},Object(u.__)("Please deactivate, You won't loose existing experiments for the funnel.")),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"".concat(isRtl?" wf_funnel_left_align":" wf_funnel_right_align")},Object(r.createElement)(s.Button,{variant:"primary",onClick:function(){return W(!1)}},Object(u.__)("OK","funnel-builder")))),null!==ee&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-clear"}),Object(r.createElement)("div",{className:"bwf-st-c-sub-st-wrap"},Object(a.size)(O)>0&&O.map((function(e,t){return Object(r.createElement)(Oe,{key:t,bump:e,checkoutStep:v,checkoutPos:g,stepPos:t,view:Object(Y.decodeEntities)(x)})})),Object(r.createElement)("div",{className:"bwf-st-c-sub-st-action-wrap"},Object(r.createElement)(s.Button,{isSecondary:!0,onClick:ue},Object(u.__)("Add Order Bump","funnel-builder"))))),N&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-clear"}),Object(r.createElement)("div",{className:"bwf-st-c-sub-st-wrap is-ob-fake"},Object(r.createElement)(ce,{type:"order_bump",onClick:function(){return q(!0)},modalContent:{title:Object(u.__)("Order Bump","funnel-builder"),content:{benefits:[Object(u.__)("Eye-catching bump styles","funnel-builder"),Object(u.__)("Targeted offers based on cart contents","funnel-builder"),Object(u.__)("Increased product discoverability","funnel-builder")],desc:Object(u.__)("Increase order value by recommending relevant cross-sells on the checkout page, that users can add to their order.","funnel-builder")},proLink:Object(b.p)(["Order","Bump","Upgrade","Modal"])}}))))};function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=window.wffn.is_ab_experiment,xe=window.wffn.is_ab_experiment_support,Ae=function(e){var t=e.step,n=(t=void 0===t?{}:t)._data,l=void 0===n?{}:n,o=t.tags,i=void 0===o?[]:o,m=(t.type,t.experiment,t.experiment_status),p=e.stepPos,O=e.step,j=e.title,w=l.title,y=l.view,v=l.edit,h=l.status,g=Object(c.d)().id,E=Ne(Object(r.useState)(!1),2),N=E[0],k=E[1],S=Ne(Object(r.useState)(!1),2),x=S[0],A=S[1],C=Object(_.a)(),T=C.startDuplicateStep,I=C.startDeleteStep,D=C.setStepTitle,B=Object(ie.a)().setModalData,F=function(){if(O&&O.hasOwnProperty("id")&&O.id){D(Object(Y.decodeEntities)(w)+Object(u.__)(" A/B Test","funnel-builder"));var e="/funnels/".concat(g,"/experiments/").concat(O.id);Object(b.y)()&&(e="/store-checkout/experiments/".concat(O.id)),Object(P.k)({},e)}},R={1:Object(u.__)("A/B Test Draft","funnel-builder"),2:Object(u.__)("A/B Test Running","funnel-builder"),3:Object(u.__)("A/B Test Paused","funnel-builder"),4:Object(u.__)("A/B Test Completed","funnel-builder")},M={1:"bwf-exp-draft",2:"bwf-exp-running",3:"bwf-exp-paused",4:"bwf-exp-completed"},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?M[e]:R[e]};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-st-c-title"},Object(r.createElement)("a",{href:Object(Y.decodeEntities)(v),title:Object(Y.decodeEntities)(w)},Object(Y.decodeEntities)(w))),!(h&&1===parseInt(h))&&Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-badge-small bwf-st-c-badge-gray"},Object(u.__)("Draft","funnel-builder"))),Object(a.size)(i)>0&&Object.keys(i).map((function(e){return Object(r.createElement)("div",{key:e,className:"bwf-st-c-badge-wrap",onClick:function(){"no_product"===e&&window.open(Object(Y.decodeEntities)(v),"_self")}},Object(r.createElement)("div",{className:f()("bwf-st-c-badge-small",i[e].label_class)},i[e].label))})),!Object(a.isEmpty)(m)&&Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap",onClick:function(){Se&&xe&&F()}},Object(r.createElement)("div",{className:f()("bwf-st-c-badge-small",q(m,!0))},q(m))),Object(r.createElement)("div",{className:"bwf-card-controls"},Object(r.createElement)("a",{target:"_blank",onClick:function(){Se?xe?F():A(!0):k(!0)},title:"A/B Test Step",className:"bwf-card-action"},Object(r.createElement)(d.a,{icon:Object(b.x)()?"experiment":"lock",width:"18",height:"16"}),Object(r.createElement)("span",null,Object(u.__)("A/B Test","funnel-builder"))),Object(r.createElement)("a",{href:Object(Y.decodeEntities)(v),title:"Edit Step",className:"bwf-card-action"},Object(r.createElement)(d.a,{icon:"edit",width:"16",height:"16"}),Object(r.createElement)("span",null,Object(u.__)("Edit","funnel-builder"))),Object(r.createElement)("a",{href:Object(Y.decodeEntities)(y),title:"View Step",className:"bwf-card-action",target:"_blank",rel:"noreferrer"},Object(r.createElement)(d.a,{icon:"view",width:"18",height:"18"}),Object(r.createElement)("span",null,Object(u.__)("View","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-card-action is-ellipsis-menu"},Object(r.createElement)(le.a,{className:"bwf-c-ellipsis",label:Object(u.__)("Quick Actions","funnel-builder"),renderContent:function(e){var t=e.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(oe.a,{isClickable:!0,onInvoke:function(){t(),T(O,p+1)}},Object(r.createElement)(ae.a,{justify:"flex-start"},Object(r.createElement)(ae.c,null,Object(r.createElement)(d.a,{icon:"duplicate",width:"18",height:"18"})),Object(r.createElement)(ae.c,null,Object(u.__)("Duplicate","funnel-builder")))),Object(r.createElement)(oe.a,{isClickable:!0,onInvoke:function(){t(),B({title:w}),I(O,p)}},Object(r.createElement)(ae.a,{justify:"flex-start"},Object(r.createElement)(ae.c,null,Object(r.createElement)(d.a,{icon:"trash",width:"18",height:"18"})),Object(r.createElement)(ae.c,null,Object(u.__)("Delete","funnel-builder")))))}}))),Object(r.createElement)("div",{className:"bwf-step-type"},Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-head bwf-st-c-badge-small bwf-st-c-badge-gray bwf-cursor-text"},j))),Object(r.createElement)(te.a,{isOpen:N,onRequestClose:function(){return k(!1)},modalContent:{title:Object(u.__)("A/B Testing","funnel-builder"),content:{benefits:[Object(u.__)("Increased Conversion Rates","funnel-builder"),Object(u.__)("Greater Return on Ad Spend","funnel-builder"),Object(u.__)("Reduced Bounce Rates","funnel-builder")],desc:Object(u.__)("Test different variants of your landing pages, order bumps, and one-click upsells. Discover the winners and uncover profits.","funnel-builder")},proLink:Object(b.p)([j.replace(" ","+"),"AB_Test"])}}),x&&Object(r.createElement)(s.Modal,{className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-admin-modal-no-header",isDismissible:!1,onRequestClose:function(){return A(!1)}},Object(r.createElement)("div",{className:"bwf-modal-custom-header bwf-flex bwf--space-between"},Object(r.createElement)("div",{className:"bwf-modal-title"},Object(u.__)("Oops it seems old version of Experiments is activated."))),Object(r.createElement)("div",{className:"bwf-modal-content"},Object(u.__)("Please deactivate, You won't loose existing experiments for the funnel.")),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"".concat(isRtl?" wf_funnel_left_align":" wf_funnel_right_align")},Object(r.createElement)(s.Button,{variant:"primary",onClick:function(){return A(!1)}},Object(u.__)("OK")))))};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Be=function(e){var t=e.step,n=(t=void 0===t?{}:t)._data,l=void 0===n?{}:n,o=t.tags,i=void 0===o?[]:o,m=(t.experiment,t.substeps),d=(m=void 0===m?{}:m).wc_order_bump,p=void 0===d?[]:d,O=t.id,j=void 0===O?0:O,w=(t.experiment_status,e.step),y=e.stepPos,v=void 0===y?0:y,h=e.title,g=e.isOBFake,E=(Object(c.d)().id,l.title,l.view),N=(l.edit,l.status,Object(ie.a)().setModalData,Object(_.a)()),k=N.startAddStep,S=N.setShowProModal,x=N.setShowProModalText,A=N.setShowAddStepModal,C=Ie(Object(r.useState)(i),2),T=C[0],I=C[1];Object(r.useEffect)((function(){0!==Object(a.size)(p)||"no_bump"in i||I(Pe(Pe({},T),{},{no_bump:{label:"No Order Bump",label_class:"bwf-st-c-badge-red"}}))}),[p.length]);var D=Object(b.r)("wc_order_bump");return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-st-c-title"},Object(r.createElement)("span",{style:{color:"#353030"}},Object(u.__)("No Checkout Created","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-card-controls"},Object(r.createElement)("span",{className:"bwf-card-action",style:{minWidth:"110px"}}),Object(r.createElement)("div",{className:"bwf-card-action"},Object(r.createElement)(s.Button,{isSecondary:!0,className:"bwf-btn-small",onClick:function(){Object(P.k)({importType:"step"}),A(!0)}},Object(u.__)("Create Checkout","funnel-builder")))),Object(r.createElement)("div",{className:f()("bwf-step-type",{"bwf-step-type-checkout":Object(b.x)()})},Object(r.createElement)("div",{className:"bwf-st-c-badge-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-head bwf-st-c-badge-small bwf-st-c-badge-gray bwf-cursor-text"},h))),null!==D&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-clear"}),Object(r.createElement)("div",{className:"bwf-st-c-sub-st-wrap"},Object(a.size)(p)>0&&p.map((function(e,t){return Object(r.createElement)(Oe,{key:t,bump:e,checkoutStep:w,checkoutPos:v,stepPos:t,view:Object(Y.decodeEntities)(E)})})),Object(r.createElement)("div",{className:"bwf-st-c-sub-st-action-wrap"},Object(r.createElement)(s.Button,{isSecondary:!0,onClick:function(e){null!==D&&k(Pe(Pe({},D),{},{parent_id:parseInt(j),is_substep:!0,title:"Order Bump"})),!D&&S(!0),!D&&x(Object(u.__)("Order Bump is a part of Funnel Builder Pro","funnel-builder")),e.preventDefault()}},Object(u.__)("Add Order Bump","funnel-builder"))))),g&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-clear"}),Object(r.createElement)("div",{className:"bwf-st-c-sub-st-wrap is-ob-fake"},Object(r.createElement)(ce,{type:"order_bump",onClick:function(){return S(!0)},modalContent:{title:Object(u.__)("Order Bump","funnel-builder"),content:{benefits:[Object(u.__)("Eye-catching bump styles","funnel-builder"),Object(u.__)("Targeted offers based on cart contents","funnel-builder"),Object(u.__)("Increased product discoverability","funnel-builder")],desc:Object(u.__)("Increase order value by recommending relevant cross-sells on the checkout page, that users can add to their order.","funnel-builder")},proLink:Object(b.p)(["Order","Bump","Upgrade","Modal"])}}))))},Fe=["step","step"];function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var qe=Object(ee.c)((function(){return Object(r.createElement)("span",{title:"Click here and start drag and drop",className:"bwf-d-icon-drag"},Object(r.createElement)(d.a,{icon:"ul",size:"20"}))})),ze=function(e){var t=e.step,n=(t=void 0===t?{}:t).type,c=t.experiment,l=void 0===c?[]:c,o=e.step,i=Me(e,Fe),s=Object(b.q)(n);if(!o)return null;return Object(r.createElement)("div",{className:"bwf-st-c-wrap"},Object(r.createElement)("div",{className:"bwf-st-c"},0<Object(a.size)(l)&&Object(r.createElement)("div",{className:"bwf-ab-tag"},Object(r.createElement)("div",{className:"bwf-ab--text"},"A/B")),Object(r.createElement)(qe,null),function(){switch(n){case"wc_checkout":return Object(r.createElement)(Ee,Re({step:o,title:s.title},i));case"wc_native":return Object(r.createElement)(Be,Re({step:o,title:Object(u.__)("Checkout Page","funnel-builder")},i));default:return Object(r.createElement)(Ae,Re({step:o,title:s.title},i))}}()))},Le=Object(ee.b)(ze),Ue=Object(ee.a)((function(e){var t=e.items,n=e.stepPromotions,c=!1,a=!1;return Object(r.createElement)("div",{className:"bwf-f-steps"},t.map((function(e,t){return Object(r.createElement)(r.Fragment,{key:"bwf-st-c-".concat(t)},Object(r.createElement)(Le,{key:"item-".concat(e.id),index:t,step:e,stepPos:t,isOBFake:!(!["wc_checkout","wc_native"].includes(e.type)||"yes"===n.bump)&&!(a||Object(b.v)()||Object(b.r)("wc_order_bump")||(a=!0,0))}),["wc_checkout","wc_native"].includes(e.type)&&"yes"!==n.upsell&&(c||Object(b.w)("upsell")||Object(b.v)()?"":(c=!0,Object(r.createElement)(ce,{modalContent:{title:Object(u.__)("One Click Upsells","funnel-builder"),content:{benefits:[Object(u.__)("A growing library of high-converting templates","funnel-builder"),Object(u.__)("Deliver targeted offers based on cart items & more","funnel-builder"),Object(u.__)("Frictionless one-click charge with Stripe, PayPal, Braintree & more.","funnel-builder")],desc:Object(u.__)("Increase sales by 10-15% with one-click upsells. Make relevant offers based on the item(s) bought and other rules. ","funnel-builder")},proLink:Object(b.p)(["One","Click","Upsell","Upgrade","Modal"])}}))))})))})),Ve=function(){return Object(r.createElement)("div",{className:"bwf-steps-container"},Object(r.createElement)("div",{className:"bwf-f-steps"},Object(r.createElement)("div",{className:"bwf-st-c-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-head"}),Object(r.createElement)("div",{className:"bwf-st-c"},Object(r.createElement)("span",{style:{visibility:"hidden",margin:0,width:"15px"},title:"Click here and start drag and drop",className:"bwf-d-icon-drag dashicons dashicons-menu"}),Object(r.createElement)("div",{className:"bwf-st-c-title"},Object(r.createElement)("span",{className:"is-placeholder long"})),Object(r.createElement)("div",{className:"bwf-card-controls bwf-loading-card"},Object(r.createElement)("a",{target:"_blank",href:"",title:"View Step",className:"bwf-card-action"},Object(r.createElement)("span",{className:"is-placeholder"})),Object(r.createElement)("a",{href:"",title:"Edit Step",className:"bwf-card-action"},Object(r.createElement)("span",{className:"is-placeholder"}))))),Object(r.createElement)("div",{className:"bwf-st-c-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-head"}),Object(r.createElement)("div",{className:"bwf-st-c"},Object(r.createElement)("span",{style:{visibility:"hidden",margin:0,width:"15px"},title:"Click here and start drag and drop",className:"bwf-d-icon-drag dashicons dashicons-menu"}),Object(r.createElement)("div",{className:"bwf-st-c-title"},Object(r.createElement)("span",{className:"is-placeholder long"})),Object(r.createElement)("div",{className:"bwf-card-controls bwf-loading-card"},Object(r.createElement)("a",{target:"_blank",href:"",title:"View Step",className:"bwf-card-action"},Object(r.createElement)("span",{className:"is-placeholder"})),Object(r.createElement)("a",{href:"",title:"Edit Step",className:"bwf-card-action"},Object(r.createElement)("span",{className:"is-placeholder"}))))),Object(r.createElement)("div",{className:"bwf-st-c-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-head"}),Object(r.createElement)("div",{className:"bwf-st-c"},Object(r.createElement)("span",{style:{visibility:"hidden",margin:0,width:"15px"},title:"Click here and start drag and drop",className:"bwf-d-icon-drag dashicons dashicons-menu"}),Object(r.createElement)("div",{className:"bwf-st-c-title"},Object(r.createElement)("span",{className:"is-placeholder long"})),Object(r.createElement)("div",{className:"bwf-card-controls bwf-loading-card"},Object(r.createElement)("a",{target:"_blank",href:"",title:"View Step",className:"bwf-card-action"},Object(r.createElement)("span",{className:"is-placeholder"})),Object(r.createElement)("a",{href:"",title:"Edit Step",className:"bwf-card-action"},Object(r.createElement)("span",{className:"is-placeholder"}))))),Object(r.createElement)("div",{className:"bwf-st-c-wrap"},Object(r.createElement)("div",{className:"bwf-st-c-head"}),Object(r.createElement)("div",{className:"bwf-st-c"},Object(r.createElement)("span",{style:{visibility:"hidden",margin:0,width:"15px"},title:"Click here and start drag and drop",className:"bwf-d-icon-drag dashicons dashicons-menu"}),Object(r.createElement)("div",{className:"bwf-st-c-title"},Object(r.createElement)("span",{className:"is-placeholder long"})),Object(r.createElement)("div",{className:"bwf-card-controls bwf-loading-card"},Object(r.createElement)("a",{target:"_blank",href:"",title:"View Step",className:"bwf-card-action"},Object(r.createElement)("span",{className:"is-placeholder"})),Object(r.createElement)("a",{href:"",title:"Edit Step",className:"bwf-card-action"},Object(r.createElement)("span",{className:"is-placeholder"})))))))},$e=n(181),Ye=(n(844),n(82));function Ge(e){return function(e){if(Array.isArray(e))return Qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||He(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||He(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We=wffn&&wffn.hasOwnProperty("ob_arrow_blink_img_url")?wffn.ob_arrow_blink_img_url:"",Je=wffn&&wffn.hasOwnProperty("ob_modal_img_path")?wffn.ob_modal_img_path:"",Xe=function(e){var t=e.isOpen,n=e.onRequestClose,c=Ke(Object(r.useState)(!0),2),a=c[0],l=c[1];return Object(r.useEffect)((function(){jQuery(document).on("click",".wfob_read_more_link",(function(e){e.preventDefault();var t=jQuery(this).parents(".wfob_l3_wrap"),n=t.find(".wfob_l3_s_desc"),r=t.find(".wfob_l3_s_data .wfob_l3_c_sub_desc_choose_option");n.slideToggle(),r.length>0&&(r.is(":visible")?r.slideUp():r.slideDown())}));var e=setTimeout((function(){l(!1)}),500);return function(){jQuery(document).off("click",".wfob_read_more_link"),clearTimeout(e)}}),[]),t&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(s.Modal,{className:"bwf-admin-modal bwf-admin-modal-xxl bwf-ob-pro-modal",isDismissible:!0,onRequestClose:function(){return n()},title:Object(r.createElement)(ae.a,null,Object(r.createElement)(ae.c,null,Object(u.__)("Order Bump")),Object(r.createElement)(ae.c,{className:"bwf-pb-pro-modal__pro-ribbon-wrap"},Object(r.createElement)("div",{className:"wffn_template_sec_ribbon wffn-pro wffn-static-ribbon",style:{margin:"-1px 0 0 4px"}},"PRO")),Object(r.createElement)(ae.c,null,Object(r.createElement)(s.Button,{onClick:function(){return window.open(Object(b.p)(["Order","Bump","Template","Modal"]),"_blank")},isPrimary:!0,className:"upgrade-btn"},Object(u.__)("Upgrade to PRO Now"))))},Object(r.createElement)("div",{style:{margin:"0 -24px"}},Object(r.createElement)(Ye.a,{content:Object(u.__)("Trigger impulse buying by presenting offers on checkout"),icon:"chart-increase",iconColor:"#353030",showLink:!1})),Object(r.createElement)("div",{className:"bwf-ob-pro-modal-content",style:{paddingTop:"1px"}},Object(r.createElement)("div",null,a&&Ge(new Array(6)).map((function(e,t){return Object(r.createElement)("div",{className:"bwf-p-20",key:"ob-place-".concat(t)},Object(r.createElement)("div",{className:"bwf-flex bwf--align-start bwf--g24"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-100 bwf-h-100 bwf-rounded-6"}),Object(r.createElement)("div",{className:"bwf-flex bwf--column bwf--align-start",style:{width:"100%"}},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-210 bwf-h-15 bwf-mb-10"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-full bwf-h-12 bwf-mb-5"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-full bwf-h-12 bwf-mb-5"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-150 bwf-h-12 bwf-mb-5"})),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-100 bwf-h-30 bwf-mt-20"})))}))),Object(r.createElement)("div",{className:"bwf-flex bwf--column bwf--g24"},Object(r.createElement)(tt,null),Object(r.createElement)(Ze,null),Object(r.createElement)(rt,null)),Object(r.createElement)("div",{className:"bwf-flex bwf--column bwf--g24"},Object(r.createElement)(et,null),Object(r.createElement)(nt,null),Object(r.createElement)(ct,null)))))},Ze=function(){return Object(r.createElement)("div",{className:"wfob_wrap_r wfob_l1"},Object(r.createElement)("div",{className:"wfob_bump_layout_container"},Object(r.createElement)("div",{className:"wfob_bump_r_outer_wrap"},Object(r.createElement)("div",{className:"wfob_wrapper wfob_bump wfob_clear wfob_img_position_left"},Object(r.createElement)("div",{className:"wfob_outer"},Object(r.createElement)("div",{className:"wfob_Box"},Object(r.createElement)("div",{className:"wfob_bgBox_table"},Object(r.createElement)("div",{className:"wfob_bgBox_tablecell wfob_check_container"},Object(r.createElement)("span",{className:"wfob_checkbox_blick_image_container wfob_bk_blink_wrap"},Object(r.createElement)("span",{className:"wfob_checkbox_blick_image"},Object(r.createElement)("img",{src:We}))," ")," ",Object(r.createElement)("input",{type:"checkbox",id:"","data-value":"",className:"wfob_checkbox wfob_bump_product"})," ",Object(r.createElement)("label",{htmlFor:"",className:"wfob_title"},Object(r.createElement)("span",{style:{color:"#ff0000"}},"Yes!")," "," Add audio version of the book to my order"))," ",Object(r.createElement)("div",{className:"wfob_bgBox_tablecell wfob_price_container"},Object(r.createElement)("div",{className:"wfob_price"},Object(r.createElement)("span",{className:"woocommerce-Price-amount amount"},Object(r.createElement)("bdi",null,Object(r.createElement)("span",{className:"woocommerce-Price-currencySymbol"},"$"),"35.00")))))," ",Object(r.createElement)("div",{className:"wfob_contentBox"},Object(r.createElement)("div",{className:"wfob_pro_img_wrap",style:{width:60}},Object(r.createElement)("div",{className:"wfob_feature_image"},Object(r.createElement)("img",{width:"60",height:"60",src:"".concat(Je,"headphone.png"),alt:"",loading:"eager",className:"attachment-woocommerce_thumbnail size-woocommerce_thumbnail"}))),Object(r.createElement)("div",{className:"wfob_pro_txt_wrap"},Object(r.createElement)("div",{className:"wfob_l3_l_desc"},"Aperiam consecttur quisquam Aperiam consectetur. Lorem Ipsum is simply dummy text of the printing and typesetting industry.")))))))," ")," ")},et=function(){var e=Ke(Object(r.useState)(!1),2),t=e[0],n=e[1];return Object(r.createElement)("div",{className:"wfob_wrap_r wfob_l2"},Object(r.createElement)("div",{className:"wfob_bump_layout_container"}," ",Object(r.createElement)("div",{className:"wfob_bump_r_outer_wrap wfob_layout_3","data-product-key":"wfob_6270dc5d28b09"},Object(r.createElement)("div",{className:"wfob_l3_wrap wfob_img_position_left"},Object(r.createElement)("div",{className:"wfob_l3_s"},Object(r.createElement)("div",null,Object(r.createElement)("div",null,Object(r.createElement)("img",{width:"60",height:"60",src:"".concat(Je,"video-coaching.png"),alt:"",loading:"eager",className:"attachment-woocommerce_thumbnail size-woocommerce_thumbnail"}))," ")," ",Object(r.createElement)("div",{className:"wfob_l3_s_c",style:{flex:"0 0 calc(100% - 60px)"}},Object(r.createElement)("div",{className:"wfob_l3_s_data"},Object(r.createElement)("div",{className:"wfob_l3_c_head"},Object(r.createElement)("span",{style:{color:"#ff0000"}},"Yes!")," "," Add 1:1 Coaching call to my order.")," ",Object(r.createElement)("div",{className:"wfob_l3_c_sub_desc show-read-more"},"Aperiam consecttur quisquam Aperiam consectetur. Lorem Ipsum is simply dummy text of the printing and typesetting industry."," ")," ",Object(r.createElement)("div",{className:"wfob_l3_c_sub_desc_choose_option",style:{display:"block"}}))," ",Object(r.createElement)("div",{className:"wfob_l3_s_btn"}," ",Object(r.createElement)("a",{role:"button",className:f()("wfob_l3_f_btn wfob_btn_add",{wfob_product_show_btn:!t}),style:{display:"none"}},"ADD")," ",Object(r.createElement)("a",{role:"button",className:f()("wfob_l3_f_btn wfob_btn_remove",{wfob_product_show_btn:t}),style:{display:"none"},onClick:function(){return n((function(e){return!e}))}},Object(r.createElement)("span",{className:"wfob_btn_text_added"},"ADDED")," ",Object(r.createElement)("span",{className:"wfob_btn_text_remove"},"REMOVE")))," ")," ")," ",Object(r.createElement)("div",{className:"wfob_l3_s_desc",style:{display:"none"}},Object(r.createElement)("div",{className:"wfob_l3_l_desc"},"Aperiam consecttur quisquam Aperiam consectetur. Lorem Ipsum is simply dummy text of the printing and typesetting industry."))))," "))},tt=function(){var e=Ke(Object(r.useState)(!1),2),t=e[0],n=e[1];return Object(r.createElement)("div",{className:"wfob_wrap_r wfob_l3"},Object(r.createElement)("div",{className:"wfob_bump_layout_container"}," ",Object(r.createElement)("div",{className:"wfob_bump_r_outer_wrap wfob_layout_3"},Object(r.createElement)("div",{className:"wfob_l3_wrap wfob_img_position_left"},Object(r.createElement)("div",{className:"wfob_l3_s"},Object(r.createElement)("div",null,Object(r.createElement)("div",null,Object(r.createElement)("img",{width:"60",height:"60",src:"".concat(Je,"warranty.png"),alt:"",loading:"eager",className:"attachment-woocommerce_thumbnail size-woocommerce_thumbnail"}))," ")," ",Object(r.createElement)("div",{className:"wfob_l3_s_c",style:{flex:"0 0 calc(100% - 60px"}},Object(r.createElement)("div",{className:"wfob_l3_s_data"},Object(r.createElement)("div",{className:"wfob_l3_c_head"},Object(r.createElement)("span",{style:{color:"#ff0000"}},"Yes!")," "," Add Extended warranty to my order.")," ",Object(r.createElement)("div",{className:"wfob_l3_c_sub_desc show-read-more"},"Aperiam consecttur quisquam Aperiam consectetur. Lorem Ipsum is simply dummy text of the printing and typesetting industry."," ")," ",Object(r.createElement)("div",{className:"wfob_l3_c_sub_desc_choose_option",style:{display:"block"}}))," ",Object(r.createElement)("div",{className:"wfob_l3_s_btn"},Object(r.createElement)("div",{className:"wfob_price"},Object(r.createElement)("span",{className:"woocommerce-Price-amount amount"},Object(r.createElement)("bdi",null,Object(r.createElement)("span",{className:"woocommerce-Price-currencySymbol"},"$"),"35.00")))," ",Object(r.createElement)("a",{role:"button",className:f()("wfob_l3_f_btn wfob_btn_add",{wfob_product_show_btn:!t}),style:{display:"none"}},"ADD")," ",Object(r.createElement)("a",{role:"button",className:f()("wfob_l3_f_btn wfob_btn_remove",{wfob_product_show_btn:t}),style:{display:"none"},onClick:function(){return n((function(e){return!e}))}},Object(r.createElement)("span",{className:"wfob_btn_text_added"},"ADDED")," ",Object(r.createElement)("span",{className:"wfob_btn_text_remove"},"REMOVE")))," ")," ")," ",Object(r.createElement)("div",{className:"wfob_l3_s_desc",style:{display:"none"}},Object(r.createElement)("div",{className:"wfob_l3_l_desc"},"Aperiam consecttur quisquam Aperiam consectetur. Lorem Ipsum is simply dummy text of the printing and typesetting industry."))))," ")," ")},nt=function(){return Object(r.createElement)("div",{className:"wfob_wrap_r wfob_l5"},Object(r.createElement)("div",{className:"wfob_bump_layout_container"}," ",Object(r.createElement)("div",{className:"wfob_bump_r_outer_wrap wfob_layout_5"},Object(r.createElement)("div",{className:"wfob_wrapper wfob_bump wfob_clear wfob_img_position_left"},Object(r.createElement)("div",{className:"wfob_outer"},Object(r.createElement)("div",{className:"wfob_Box wfob_skin_wrap"},Object(r.createElement)("div",{className:"wfob_contentBox"},Object(r.createElement)("div",{className:"wfob_pro_img_wrap",style:{width:60}},Object(r.createElement)("div",{className:"wfob_feature_image"},Object(r.createElement)("img",{width:"60",height:"60",src:"".concat(Je,"tshirt.jpg"),alt:"",loading:"eager",className:"attachment-woocommerce_thumbnail size-woocommerce_thumbnail"}))," ")," ",Object(r.createElement)("div",{className:"wfob_pro_txt_wrap"},Object(r.createElement)("div",{className:"wfob_l3_l_desc"},"Aperiam consecttur quisquam Aperiam consectetur. Lorem Ipsum is simply dummy text of the printing and typesetting industry.")," ",Object(r.createElement)("div",{className:"wfob_bgBox_tablecell wfob_price_container"},Object(r.createElement)("div",{className:"wfob_price"},Object(r.createElement)("span",{className:"woocommerce-Price-amount amount"},Object(r.createElement)("bdi",null,Object(r.createElement)("span",{className:"woocommerce-Price-currencySymbol"},"$"),"35.00"))))," ",Object(r.createElement)("div",{className:"wfob_bgBox_table"},Object(r.createElement)("div",{className:"wfob_bgBox_tablecell wfob_check_container"},Object(r.createElement)("div",{className:"wfob_check_wrap wfob_arrow_true"},Object(r.createElement)("span",{className:"wfob_checkbox_blick_image_container wfob_bk_blink_wrap"},Object(r.createElement)("span",{className:"wfob_checkbox_blick_image"},Object(r.createElement)("img",{src:We}))," ")," ",Object(r.createElement)("input",{type:"checkbox","data-value":"",className:"wfob_checkbox wfob_bump_product"}))," ",Object(r.createElement)("div",{className:"wfob_content_sec"},Object(r.createElement)("label",{htmlFor:"wfob_6270dc5d28b09",className:"wfob_title"},Object(r.createElement)("span",{style:{color:"#ff0000"}},"Yes!")," "," Add extra t-shirt to my order")))))," ")))))," ")," ")},rt=function(){var e=Ke(Object(r.useState)(!1),2),t=e[0],n=e[1];return Object(r.createElement)("div",{className:"wfob_wrap_r wfob_l6"},Object(r.createElement)("div",{className:"wfob_bump_layout_container"}," ",Object(r.createElement)("div",{className:"wfob_bump_r_outer_wrap wfob_layout_6"},Object(r.createElement)("div",{className:"wfob_wrapper wfob_bump wfob_clear wfob_img_position_left"},Object(r.createElement)("div",{className:"wfob_outer"},Object(r.createElement)("div",{className:"wfob_Box wfob_skin_wrap"},Object(r.createElement)("div",{className:"wfob_contentBox"},Object(r.createElement)("div",null,Object(r.createElement)("div",{className:"wfob_feature_image"},Object(r.createElement)("img",{width:"60",height:"60",src:"".concat(Je,"free-trial.png"),alt:"",loading:"eager",className:"attachment-woocommerce_thumbnail size-woocommerce_thumbnail"}))," ")," ",Object(r.createElement)("div",{className:"wfob_pro_txt_wrap"},Object(r.createElement)("div",{className:"wfob_bgBox_table"},Object(r.createElement)("div",{className:"wfob_bgBox_tablecell wfob_check_container"},Object(r.createElement)("label",{htmlFor:"",className:"wfob_title"},Object(r.createElement)("span",{style:{color:"#ff0000"}},"Yes!")," "," Add program's free trial to my order")," ",Object(r.createElement)("input",{type:"checkbox","data-value":"",checked:t,className:"wfob_checkbox wfob_bump_product wfob-switch",onChange:function(){}})," ",Object(r.createElement)("label",{htmlFor:"wfob_6270dc5d28b09",onClick:function(){return n((function(e){return!e}))}},Object(r.createElement)("span",{className:"sw"}))))," ",Object(r.createElement)("div",{className:"wfob_l3_l_desc"},"Aperiam consecttur quisquam Aperiam consectetur. Lorem Ipsum is simply dummy text of the printing and typesetting industry.")," ")," "))))))," ")},ct=function(){return Object(r.createElement)("div",{className:"wfob_l7"},Object(r.createElement)("div",{className:"ob_img-wrap"},Object(r.createElement)("img",{width:"60",height:"60",src:"".concat(Je,"soft-drink.png"),alt:"",loading:"eager",className:"attachment-woocommerce_thumbnail size-woocommerce_thumbnail"})),Object(r.createElement)("div",{style:{display:"flex"}},Object(r.createElement)("div",{className:"ob_content-wrap"},Object(r.createElement)("h3",null,"Organic Apple Juice"),Object(r.createElement)("p",{className:"sec_text"},"$200.00 / Year")),Object(r.createElement)("div",{className:"ob_price-wrap"},Object(r.createElement)("button",{className:"ob_add-btn"},"Add to Cart"))))},at=n(553);n(845);function lt(e,t,n,r,c,a,l){try{var o=e[a](l),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(r,c)}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,c,a=[],l=!0,o=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){o=!0,c=e}finally{try{l||null==n.return||n.return()}finally{if(o)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=Object(c.d)().id,n=e.funnelId,o=void 0===n?t:n,m=location&&location.search?Object(l.parse)(location.search.substring(1)):{},f=Object(_.a)(),p=(f.fetch,f.sortSteps),O=f.updateFunnelViewLink,j=f.setShowProModal,w=f.setShowAddStepModal,v=f.setIsFunnelEmpty,h=y.a.getFunnel(),g=y.a.getFunnelStatus(),E=y.a.getFunnelLoading(),N=y.a.getFunnelError(),k=y.a.getShowProModal(),S=y.a.getShowAddStepModal(),x=y.a.getIsFunnelEmpty(),A=Object(at.a)().getFunnels(),C=Object(D.a)().setFirstFunnel,T=(0,Object(B.a)().getStepPromotion)(),I=ot(Object(r.useState)(!1),2),F=I[0],R=I[1],M=Object(r.useContext)(b.a),q=ot(Object(r.useState)(!0),2),L=q[0],U=q[1];Object(r.useEffect)((function(){U(!1)}),[E]),Object(r.useEffect)((function(){Object(a.isEmpty)(A)&&!Object(a.isEmpty)(h)&&C(h)}),[h]);Object(r.useEffect)((function(){return Object(b.y)()||(!F&&h&&h.steps&&h.steps.length&&Array.isArray(h.steps)&&function(e){for(var t=!1,n=e.length-1;n>=0;n--)"wc_upsells"===e[n].type?t=!0:"wc_checkout"===e[n].type&&(t=!1);return t}(h.steps)&&M(Object(r.createElement)("div",null,Object(u.__)("Add a Checkout step to trigger One Click Upsells","funnel-builder"))),!F&&h&&h.steps&&Array.isArray(h.steps)&&function(e){for(var t=!1,n=e.length-1;n>=0;n--)"wc_thankyou"===e[n].type?t=!0:"wc_checkout"===e[n].type&&(t=!1);return t}(h.steps)&&M(Object(r.createElement)("div",null,Object(u.__)("Add a Checkout Step to trigger the Thank You Step","funnel-builder")))),function(){M("")}}),[h,F]),Object(r.useEffect)((function(){return function(){x&&v(!1)}}),[]);var V=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.oldIndex,r=t.newIndex,n!==r){e.next=3;break}return e.abrupt("return");case 3:return c=p(n,r),R(!0),setTimeout((function(){return M(Object(u.__)("Updating Steps…"))}),500),e.prev=6,e.next=9,i()({path:Object(b.g)("/woofunnels-admin/funnels/".concat(o)),method:"PUT",data:{steps:JSON.stringify(c.map((function(e){return{id:e.id,type:e.type}})))}});case 9:O(c.length>0?c[0]._data.view:""),M(Object(u.__)("Steps Updated")),setTimeout((function(){return R(!1)}),2e3),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(6),p(r,n),O(c.length>0?c[0]._data.view:""),M(Object(u.__)("Steps Updation Failed")),setTimeout((function(){return R(!1)}),2e3);case 20:Object(a.delay)(M,2e3,"");case 21:case"end":return e.stop()}}),e,null,[[6,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,c){var a=e.apply(t,n);function l(e){lt(a,r,c,l,o,"next",e)}function o(e){lt(a,r,c,l,o,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();if((L||E)&&!x)return Object(r.createElement)(Ve,null);if(N)return Object(r.createElement)(s.Notice,{status:"error"},N.hasOwnProperty("message")?N.message:Object(u.__)("Unable to load Funnel Steps","funnel-builder"));var Y=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(r.createElement)(d.a,{icon:"zero-step",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(u.__)("Start building your funnel","funnel-builder")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(u.__)("Add a new step or pick a funnel template","funnel-builder")}},{type:"buttons",data:{buttons:[{text:Object(u.__)("Add New Step","funnel-builder"),proCheck:!1,onClick:function(){Object(P.k)({importType:"step"}),w(!0)}},{text:Object(u.__)("View Templates","funnel-builder"),proCheck:!1,props:{isPrimary:!1,isSecondary:!0},onClick:function(){w(!0),Object(b.y)()?Object(P.k)({importType:"wc_checkout"}):Object(P.k)({importType:"funnel"})}}]}}];return Object(r.createElement)(r.Fragment,null,h&&h.hasOwnProperty("steps")&&Object(a.isArray)(h.steps)&&0!==Object(a.size)(h.steps)?Object(r.createElement)(r.Fragment,null,Object(b.y)()&&(Object(a.some)(h.steps,{type:"wc_native"})||!g)&&Object(r.createElement)("div",{style:{marginTop:"-8px"}},!g&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(s.Notice,{status:"info",isDismissible:!1,className:"bwf-component-notice bwf-store-checkout-enable-notice"},Object(r.createElement)("div",{className:"bwf-flex bwf--g4 bwf--align-start"},Object(r.createElement)("span",{className:"bwf-flex"},Object(r.createElement)(d.a,{icon:"info",style:{margin:0}})),Object(r.createElement)("p",{className:"bwf-notice-content"},Object(u.__)("Store Checkout is currently disabled. Use ","funnel-builder"),Object(r.createElement)("strong",null,Object(u.__)("Enable Store Checkout","funnel-builder")),Object(u.__)(" option to activate Store Checkout.","funnel-builder")))),Object(r.createElement)("div",{className:"bwf_clear_20"})),Object(a.some)(h.steps,{type:"wc_native"})&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(s.Notice,{status:"warning",isDismissible:!1,className:"bwf-component-notice"},Object(r.createElement)("div",{className:"bwf-flex bwf--g12 bwf--align-start"},Object(r.createElement)("span",{className:"bwf-flex"},Object(r.createElement)(d.a,{icon:"shield",style:{margin:0}})),Object(r.createElement)("p",{className:"bwf-notice-content"},Object(u.__)("You are using the default WooCommerce checkout page. Order bumps, upsell & thank you pages will work with the default checkout page. However, we recommend adding an optimized checkout page from FunnelKit.","funnel-builder")))),Object(r.createElement)("div",{className:"bwf_clear_20"}))),Object(r.createElement)("div",{className:"bwf-flex bwf--space-between bwf-mb-20"},Object(r.createElement)("h2",{className:"bwf_sub_heading"},Object(u.__)("All Steps","funnel-builder")),Object(r.createElement)(s.Button,{onClick:function(){Object(P.k)({importType:"step"}),w(!0)},isPrimary:!0},Object(u.__)("Add New Step","funnel-builder"))),Object(r.createElement)("div",{className:"bwf-steps-container"},Object(r.createElement)(Ue,{items:h.steps,onSortEnd:V,lockAxis:"y",useDragHandle:!0,stepPromotions:T})),Object(r.createElement)(s.Button,{isSecondary:!0,onClick:function(){Object(P.k)({importType:"step"}),w(!0)},className:"wffn-add-step-lg"},Object(r.createElement)(d.a,{icon:"plus-2",color:"#000"}),Object(u.__)("Add New Step","funnel-builder"))):Object(r.createElement)($e.a,{data:Y}),Object(r.createElement)($,{funnelId:o}),Object(r.createElement)(Z,{funnelId:o}),k&&Object(r.createElement)(Xe,{isOpen:k,onRequestClose:function(){return j(!1)}}),Object(r.createElement)(z,{query:m,isOpen:S,setModalOpenState:function(e){return w(e)},hasCheckoutStep:h&&h.steps&&Object(a.isArray)(h.steps)&&h.steps.some((function(e){return"wc_checkout"===e.type})),funnelId:o}))}}}]);