(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{865:function(e,t,a){},866:function(e,t,a){},867:function(e,t,a){},871:function(e,t,a){},881:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(11),r=a.n(c),i=a(5),l=a(1),s=a(8),o=a(27),b=a(7);a(871);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,c,r=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);i=!0);}catch(e){l=!0,c=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.default=function(){var e,t=m(Object(n.useState)(null!==(e=wffn.fkcart_plugin_status)&&void 0!==e?e:"install"),2),a=t[0],c=t[1],u=m(Object(n.useState)(!1),2),f=(u[0],u[1],m(Object(n.useState)(!1),2)),d=f[0],p=f[1],O=Object(n.useContext)(b.a),w=Object(o.a)(),j=w.resetHeaderMenu,v=w.setPageHeader,E=w.setActiveMultiple;Object(n.useEffect)((function(){var e;j(),v(Object(l.__)("Cart","funnel-builder")),E({leftNav:"cart",rightNav:""}),"activated"===(null===(e=wffn)||void 0===e?void 0:e.fkcart_plugin_status)&&(window.location.href="admin.php?page=fkcart")}),[]);var y=[{text:Object(l.__)("Modern slide cart","funnel-builder")},{text:Object(l.__)("Extensive style customizations","funnel-builder")},{text:Object(l.__)("Increase order value with Cart Upsells","funnel-builder"),pro:!0},{text:Object(l.__)("Boost order value by offering Smart Reward System","funnel-builder"),pro:!0}];return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-fkcart-wrap"},Object(n.createElement)("div",{className:"bwf-fkcart-info bwf-t-center"},Object(n.createElement)("div",{className:"bwf-fkcart-heading"},"activated"!==a&&Object(n.createElement)(s.a,{icon:"circle-tick-1",size:24}),Object(l.__)("Make your buyers checkout faster with FunnelKit Cart","funnel-builder")),Object(n.createElement)("div",{className:"bwf-fkcart-desc"},Object(l.__)("Improve add to cart process, make relevant upsells and give smart incentives to increase average order value","funnel-builder"))),Object(n.createElement)("div",{className:"bwf-fkcart-action-wrap"},Object(n.createElement)("span",{className:"bwf-brand-logo"},Object(n.createElement)(s.a,{icon:"logo"})),Object(n.createElement)("div",{className:"bwf-fkcart-about-action"},Object(n.createElement)("div",{className:"bwf-fkcart-about-title"},Object(l.__)("Install and Activate FunnelKit Cart","funnel-builder")),Object(n.createElement)("div",{className:"bwf-fkcart-about-desc"},Object(l.__)("You are about to upgrade your WooCommerce Cart experience in next few minutes.","funnel-builder"))),Object(n.createElement)(i.Button,{isPrimary:!0,onClick:function(){p(!0),r()({path:Object(b.g)("woofunnels-admin/funnels/activate-plugin/?slug=cart-for-woocommerce&init=cart-for-woocommerce/plugin.php&status=".concat(a,"\n                ")),method:"POST"}).then((function(e){e.success&&!0===e.success&&(c("activated"),window.wffn.fkcart_plugin_status="activated",window.location.href="admin.php?page=fkcart",O(e.message),Object(b.s)(O,5e3))})).catch((function(e){console.log(e)})).finally((function(){p(!1)}))},isBusy:d,className:"bwf-btn-large",disabled:d||"activated"===a},d?Object(l.__)("Activating…","funnel-builder"):"activated"===a?Object(l.__)("Redirecting…","funnel-builder"):"install"===a?Object(l.__)("Install & Activate","funnel-builder"):Object(l.__)("Activate","funnel-builder"))),Object(n.createElement)("div",{className:"bwf-fkcart-section bwf-mid-image-section"},Object(n.createElement)("div",{className:"bwf-fkcart-sub-section bwf-cursor-pointer bwf-image-container",style:{backgroundImage:"url('".concat(!(!wffn||!wffn.hasOwnProperty("fkcart_img_url"))&&wffn.fkcart_img_url,"')")},onClick:function(){return window.open("https://funnelkit.com/woocommerce-cart/?utm_source=WordPress&utm_medium=Funnelkit-banner&utm_campaign=Lite+Plugin")}}),Object(n.createElement)("div",{className:"bwf-fkcart-sub-section bwf-fkcart-list"},y.map((function(e,t){return Object(n.createElement)("div",{className:"bwf-fkcart-list-item",key:t},Object(n.createElement)("div",{className:"check-icon"},Object(n.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(n.createElement)("path",{d:"M15.7872 1.67426C15.6507 1.53767 15.4657 1.46094 15.2727 1.46094C15.0796 1.46094 14.8946 1.53767 14.7581 1.67426L8.00004 8.43232L5.60545 6.03773C5.42168 5.85396 5.1537 5.78218 4.9026 5.8494C4.65148 5.91674 4.45543 6.11281 4.38806 6.36394C4.32084 6.61505 4.39262 6.88302 4.57639 7.06679L7.48553 9.97592C7.62199 10.1125 7.80703 10.1892 8.00007 10.1892C8.19311 10.1892 8.37815 10.1125 8.51461 9.97592L15.7873 2.70325C15.9239 2.56679 16.0006 2.38175 16.0006 2.18871C16.0006 1.99568 15.9239 1.81053 15.7873 1.67417L15.7872 1.67426Z",fill:"black"}),Object(n.createElement)("path",{d:"M15.8397 6.40191C15.7877 6.14724 15.6038 5.93964 15.3574 5.85733C15.1108 5.77502 14.8392 5.83045 14.6446 6.0028C14.4501 6.17516 14.3623 6.43819 14.4142 6.69273C14.7139 8.15603 14.5041 9.67781 13.8197 11.0054C13.1352 12.333 12.0172 13.3865 10.6514 13.9911C9.28567 14.5957 7.75412 14.715 6.31121 14.3291C4.86833 13.9433 3.60071 13.0755 2.71903 11.8699C1.83722 10.6643 1.39433 9.1934 1.46371 7.70146C1.53321 6.20936 2.11092 4.78599 3.10091 3.66772C4.0909 2.54926 5.43362 1.803 6.90608 1.5529C8.37863 1.3028 9.89242 1.56394 11.1963 2.2928C11.4236 2.42013 11.7016 2.41645 11.9255 2.28329C12.1495 2.14999 12.2854 1.90751 12.2819 1.64686C12.2785 1.38636 12.1363 1.14742 11.909 1.02008C10.3767 0.161842 8.60444 -0.168156 6.86582 0.0808031C5.12729 0.329762 3.51876 1.14398 2.2889 2.3979C1.05907 3.65169 0.275931 5.27544 0.0604459 7.01864C-0.15503 8.76174 0.209084 10.5274 1.09674 12.043C1.98426 13.5585 3.34597 14.7399 4.97171 15.4046C6.59734 16.0695 8.39636 16.1809 10.0918 15.7217C11.7871 15.2624 13.2841 14.2581 14.3518 12.8637C15.4196 11.4691 15.9988 9.76205 15.9999 8.0056C15.9997 7.4671 15.9462 6.92986 15.84 6.40201L15.8397 6.40191Z",fill:"black"}))),Object(n.createElement)("div",{className:"bwf-list-item-detail"},e.text," "),e.pro&&Object(n.createElement)("span",{className:"bwf-pro-tag"},Object(l.__)("PRO","funnel-builder")))}))))))}},884:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(14),r=a.n(c),i=a(863),l=a(20),s=["getStateProp"];function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var f=function(){var e=Object(l.a)("recipes"),t=e.getStateProp;return b(b({},u(e,s)),{},{getRecipes:function(){return t("data")},getAutonamiStatus:function(){return t("autonamiStatus")},getLoading:function(){return t("isLoading")},getAutomationCount:function(){return t("automationCount")}})},d=a(22),p=a(7),O=["fetch","setStateProp"];function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function E(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var y=function(){var e=Object(d.a)("recipes"),t=e.fetch,a=e.setStateProp;return j(j({},E(e,O)),{},{fetch:function(){t("GET",Object(p.g)("/woofunnels-admin/automation/recipes/"))},setAutomationCount:function(e){return a("automationCount",e)},setAutonamiStatus:function(e){return a("autonamiStatus",e)}})},g=a(27),h=a(6),N=a(1),_=a(8),k=a(5),C=a(11),S=a.n(C),A=(a(865),a(142)),P=function(e){var t=e.data,a=void 0===t?{}:t,c=a.nice_name,r=void 0===c?"":c,i=a.source,l=void 0===i?"":i;return Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick is-start-node-selected"},Object(n.createElement)("div",{className:"bwf-node-icon icon-start"},Object(n.createElement)(_.a,{size:22,icon:"rocket"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(h.isEmpty)(l)?"":l),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(h.isEmpty)(r)?"":r)))),Object(n.createElement)(A.d,{type:"source",position:"bottom",isConnectable:!1}))},x=function(e){var t=e.data,a=void 0===t?{}:t,c=a.subject,r=void 0===c?"":c,i=a.nice_name,l=void 0===i?"":i,s=a.integration,o=void 0===s?"":s;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(A.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon icon-action"},Object(n.createElement)(_.a,{size:22,icon:"charge"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},"Step"),Object(n.createElement)("div",{className:"bwf-node-content-label"},"Action")),Object(n.createElement)("div",{className:"bwf-node-action"})),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(h.isEmpty)(o)?"":o),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(h.isEmpty)(l)?"":l),!Object(h.isEmpty)(r)&&Object(n.createElement)("div",{className:"bwf-node-inner-label bwf-two-line-ellipse-text"},r)))))))),Object(n.createElement)(A.d,{type:"source",isConnectable:!1,position:"bottom"}))},D=function(e){var t=e.data,a=(void 0===t?{}:t).values,c=void 0===a?[]:a;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(A.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon"},Object(n.createElement)(_.a,{size:26,icon:"condition"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},"Step"),Object(n.createElement)("div",{className:"bwf-node-content-label"},"Conditional")),Object(n.createElement)("div",{className:"bwf-node-action"})),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(h.isEmpty)(c)?"No Condition Found":Object(n.createElement)(n.Fragment,null,c.map((function(e,t){return Object(n.createElement)(n.Fragment,null,0!==t&&Object(n.createElement)("div",{className:"bwf-step-divider divider-line bwf-or"},Object(n.createElement)("span",{className:"bwf-divider"},"OR")),e.map((function(e,t){return Object(n.createElement)(n.Fragment,null,0!==t&&Object(n.createElement)("div",{className:"bwf-step-divider"},Object(n.createElement)("span",{className:"bwf-divider"},"AND")),Object(n.createElement)("div",{className:"bwf-step-content-content"},e))})))}))))))),Object(n.createElement)(A.d,{type:"source",position:"bottom",isConnectable:!1}))},I=function(){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(A.d,{type:"source",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-node-content bwf-end"},Object(n.createElement)("div",{className:"bwf-node-content-item"},"End Automation"))))},F=function(e){var t=e.data,a=void 0===t?{}:t,c=a.nice_name,r=void 0===c?"":c,i=a.source_name;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(A.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon icon-goal"},Object(n.createElement)(_.a,{size:26,icon:"goal"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(N.__)("Step","funnel-builder")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(N.__)("Goal","funnel-builder"))),Object(n.createElement)("div",{className:"bwf-node-action"})),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(h.isEmpty)(i)?"":i),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(h.isEmpty)(r)?"":r))))))),Object(n.createElement)(A.d,{type:"source",position:"bottom",isConnectable:!1}))},R={1:Object(N.__)("Delay for a specific period","wp-marketing-automations-crm"),2:Object(N.__)("Delay until a specific date and time","wp-marketing-automations-crm"),3:Object(N.__)("Delay until a custom field date","wp-marketing-automations-crm")},T=function(e){var t=e.data,a=e.id,c=t.type,r=void 0===c?1:c,i=t.value,l=void 0===i?"":i;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper","node-id":a},Object(n.createElement)(A.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon icon-delay"},Object(n.createElement)(_.a,{size:28,icon:"time-left"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},"Step"),Object(n.createElement)("div",{className:"bwf-node-content-label"},"Delay")),Object(n.createElement)("div",{className:"bwf-node-action"})),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},R.hasOwnProperty(parseInt(r))?R[parseInt(r)]:""),Object(n.createElement)("div",{className:"bwf-node-content-label"},l))))))),Object(n.createElement)(A.d,{type:"source",position:"bottom",isConnectable:!1}))},L=function(e){return Object(n.createElement)("div",{className:e&&e.data&&e.data.direction&&"no"===e.data.direction?"bwf-yes-no-node  bwf-no-node":"bwf-yes-no-node bwf-yes-node"},Object(n.createElement)(A.d,{type:"target",position:"top",style:{opacity:0},isConnectable:!1}),Object(n.createElement)("span",{className:"bwf-yes-no-wrap"},e&&e.data&&e.data.direction&&"no"===e.data.direction?"No":"Yes"),Object(n.createElement)(A.d,{type:"source",position:"bottom",style:{opacity:0},isConnectable:!1}))},M=function(e){var t=e.data,a=void 0===t?{}:t;return Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick is-start-node-selected"},Object(n.createElement)("div",{className:"bwf-node-icon icon-exit"},Object(n.createElement)(_.a,{size:26,icon:"exit"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(N.__)("Step","funnel-builder")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(N.__)("Exit Automation","funnel-builder"))),Object(n.createElement)("div",{className:"bwf-node-action"},a.hasOwnProperty("step_status")&&3===parseInt(a.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},"Deleted")))),Object(n.createElement)(A.d,{type:"source",position:"bottom",isConnectable:!1,style:{opacity:0}}))},z=(a(866),a(364)),B=a.n(z),q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.type)return 200+t;var n=0;switch(e.type){case"start":n=a?90:60;break;case"end":n=30;break;case"exit":n=65;break;case"wait":n=a&&e.data&&e.data.sidebarValues?160:105;break;case"yesNoNode":n=a?50:20;break;case"benchmark":n=a&&e.data&&e.data.benchmark?165:120;break;case"action":var c=e.data&&e.data.selected?e.data.selected:"";n=""!==c?a?165:120:105;break;case"conditional":var r=Object(h.flatten)(e.data.values).length,i=r-1;n=r?32*r+29*i+75:150,a||(n-=30);break;default:n=200}return n+t},U=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new B.a.graphlib.Graph;return n.setDefaultEdgeLabel((function(){return{}})),n.setGraph({rankdir:"TB",ranksep:90,nodesep:100}),e.forEach((function(e){Object(A.j)(e)?n.setNode(e.id,{width:280,height:q(e,3,t)+a}):n.setEdge(e.source,e.target,{weight:"conditional"===e.type?2:5})})),B.a.layout(n),e.map((function(e){if(Object(A.j)(e)){var a=n.node(e.id);e.targetPosition="top",e.sourcePosition="bottom";var c=q(e,"conditional"===e.type?70:50,t);e.position={x:a.x-140+Math.random()/1e3,y:a.y-c/2}}return e}))};function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,c,r=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);i=!0);}catch(e){l=!0,c=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var H=function(e){var t=e.recipeID,a=e.previewData,c={start:P,action:x,conditional:D,end:I,benchmark:F,wait:T,yesNoNode:L,exit:M},r=G(Object(n.useState)([]),2),i=r[0],l=r[1],s=Object(A.k)(),o=Object(A.m)().setCenter,b=Object(n.useRef)();return Object(n.useEffect)((function(){Object(h.isNull)(document.querySelector("#bwf-single-automation-wrap"))||(b.current=document.querySelector("#bwf-single-automation-wrap").getBoundingClientRect(),l(a))}),[]),Object(n.useEffect)((function(){var e=0,t=0,a=s.getState().nodes;if(a.length&&b.current){var n=a[0];n.hasOwnProperty("__rf")?(e=n.__rf.position.x+140,t=n.__rf.position.y):(e=n.position.x+140,t=n.position.y),t=parseFloat(t)+.45*parseFloat(b.current.height),o(e,t,1)}}),[i]),Object(n.createElement)("div",{id:"bwf-single-automation-wrap",className:"bwf-automation-wrap",key:t},Object(n.createElement)(A.f,{defaultZoom:1,minZoom:.5,maxZoom:4,nodeTypes:c,nodesConnectable:!1,nodesDraggable:!1,zoomOnScroll:!1,zoomOnDoubleClick:!1,paneMoveable:!0,panOnScroll:!0,elements:U(i,!1)},Object(n.createElement)(A.c,{showInteractive:!1}),Object(n.createElement)(A.a,null)))},Z=a(53);function $(e,t,a,n,c,r,i){try{var l=e[r](i),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(n,c)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,c,r=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);i=!0);}catch(e){l=!0,c=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var J=function(e){var t=e.recipeData,a=e.onRequestClose,c=(e.isImporting,e.showPreviewOnly),r=W(Object(n.useState)(!0),2),i=r[0],l=r[1],s=W(Object(n.useState)({}),2),o=s[0],b=s[1],m=function(){var e,a=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,S()({path:Object(p.g)("/woofunnels-admin/automation/recipe/?recipe_slug=".concat(t.slug)),method:"GET"}).then((function(e){l(!1),200===e.code&&(Object(h.isEmpty)(e.result)||b(e.result))}));case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),l(!1),b(e.t0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,a=arguments;return new Promise((function(n,c){var r=e.apply(t,a);function i(e){$(r,n,c,i,l,"next",e)}function l(e){$(r,n,c,i,l,"throw",e)}i(void 0)}))});return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){b({}),l(!0),Object(h.isEmpty)(t)||m()}),[t]),Object(n.createElement)(n.Fragment,null,!Object(h.isEmpty)(t)&&Object(n.createElement)(k.Modal,{title:"",onRequestClose:a,overlayClassName:"bwf-recipe-preview-overlay bwf-fullscreen-overlay",className:"bwf-admin-modal bwf-admin-modal-no-header bwf-admin-modal-fullscreen bwf-recipe-preview-modal",shouldCloseOnClickOutside:!1},Object(n.createElement)("div",{className:"bwf-stretch-header-customer-journey"},Object(n.createElement)("div",{className:"bwf-wrapper"},Object(n.createElement)("div",{className:"bwf-left-section"},Object(n.createElement)("div",{className:"bwf-back-button bwf-display-flex bwf-cursor-pointer",onClick:a},Object(n.createElement)(_.a,{icon:c?"close":"arrow-left",size:c?16:20})),Object(n.createElement)("div",{className:"bwf-title bwf-h3"},t.hasOwnProperty("name")?t.name:""),t.hasPRO&&Object(n.createElement)("div",{className:"bwf-recipe-paid"},Object(n.createElement)("span",null,Object(N.__)("PRO")))),Object(n.createElement)("div",{className:"bwf-right-section"}))),Object(n.createElement)("div",{className:"bwf-recipe-preview-sidebar"},Object(n.createElement)("div",{className:"bwf-about-recipe"},Object(n.createElement)("div",{className:"bwf-recipe-title"},Object(N.__)("Description")),Object(n.createElement)("div",{className:"bwf-recipe-description"},t.description)),Object(n.createElement)("div",{className:"bwf-recipe-tags"},!Object(h.isEmpty)(t.tag)&&Object.values(t.tag).map((function(e,t){return Object(n.createElement)("span",{className:"bwf-recipe-tag",key:t},e)}))),o.hasOwnProperty("video")&&!Object(h.isEmpty)(o.video)&&Object(n.createElement)("div",{className:"bwf-recipe-video"},Object(n.createElement)("iframe",{src:o.video}))),i?Object(n.createElement)("div",{className:"bwf-preview-reactflow-loader"},Object(n.createElement)(Z.a,{size:"xxl"})):Object(n.createElement)(n.Fragment,null,o.hasOwnProperty("preview")&&!Object(h.isEmpty)(o.preview)?Object(n.createElement)(H,{recipeID:o.id,previewData:o.preview}):Object(n.createElement)("div",{className:"bwf-preview-reactflow-loader bwf-h2"},o.hasOwnProperty("message")?o.message:Object(N.__)("No Preview Data Found","wp-marketing-automations")))))},V=(a(867),a(10));function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,c,r=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);i=!0);}catch(e){l=!0,c=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ee=function(e){var t=e.onRequestClose,a=e.recipeData,c=void 0===a?[]:a,i=e.recipeFilters,l=void 0===i?{}:i,s=e.previewData,o=void 0===s?{}:s,b=e.showPreviewOnly,m=e.onPreviewClose,u=void 0===m?h.noop:m,f=Q(Object(n.useState)(c),2),d=f[0],p=f[1],O=Q(Object(n.useState)(c),2),w=O[0],j=(O[1],Q(Object(n.useState)({}),2)),v=j[0],E=j[1],y=Q(Object(n.useState)(!1),2),g=y[0],C=(y[1],Q(Object(n.useState)(o||{}),2)),S=C[0],P=C[1],x=Q(Object(n.useState)("All"),2),D=x[0],I=x[1],F=Q(Object(n.useState)(""),2),R=F[0],T=F[1],L=l.groups,M=void 0===L?[]:L,z=l.subGroups,B=void 0===z?[]:z,q=Q(Object(n.useState)(""),2),U=q[0],G=q[1],K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.includes(t)};Object(n.useEffect)((function(){T("")}),[D]),Object(n.useEffect)((function(){g||p(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=new RegExp(e.toLowerCase().trim(),"g"),n=t||w;return n.filter((function(e){return!(Object(h.isNull)(e.name.toLowerCase().match(a))||!(Object(h.isEmpty)(D)||"All"===D||e.hasOwnProperty("group")&&e.group.includes(D))||!(Object(h.isEmpty)(R)||e.hasOwnProperty("subgroup")&&K(e.subgroup,R)))}))}(U))}),[U,D,R]);return Object(n.createElement)(A.e,null,Object(n.createElement)("div",{dangerouslySetInnerHTML:{__html:"<style>.components-modal__screen-overlay{ animation : none ! important }</style>"}}),Object(n.createElement)(k.Modal,{className:"bwf-admin-modal bwf-admin-modal-fullscreen bwf-recipe-wrapper-modal",overlayClassName:"bwf-fullscreen-overlay",shouldCloseOnEsc:!1,onRequestClose:t},Object(n.createElement)("div",{className:"bwf-recipe-modal-header"},Object(n.createElement)("div",{onClick:t,className:"bwf-flex",style:{cursor:"pointer",marginRight:"-10px"}},Object(n.createElement)(_.a,{icon:"close",size:"16"})),Object(n.createElement)("div",{className:"bwf-recipe-modal-title"},Object(N.__)("Automation Recipes")),Object(n.createElement)("div",{className:"bwf-recipe-search-field"},Object(n.createElement)("span",{className:"bwf-search-bar-icon"},Object(n.createElement)(_.a,{icon:"search",size:15})),Object(n.createElement)(k.TextControl,{value:U,type:"search",placeholder:Object(N.__)("Search Templates"),autoComplete:"off",onChange:G,disabled:g}))),Object(n.createElement)("div",{className:"bwf-recipe-wrapper"},g?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-recipe-sidebar"},Object(n.createElement)("ul",null,[1,2,3,4,5,6].map((function(e,t){return Object(n.createElement)("li",{className:"bwf-recipe-filter-item bwf-active-filter",key:t})})))),Object(n.createElement)("div",{className:"bwf-recipe-item-wrapper"},Object(n.createElement)("div",{className:"bwf-recipe-group-wrap"},[1,2,3,4,5].map((function(e,t){return Object(n.createElement)("div",{className:"bwf-recipe-group",key:t},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}))}))),Object(n.createElement)("div",{className:"bwf-recipe-items"},Object(n.createElement)("div",{className:"bwf-recipe-item scratch-recipe",style:{border:"2px dashed #DEDFEA"},key:"scratch"},Object(n.createElement)(_.a,{icon:"plus",width:"30",height:"30",color:"#DEDFEA"}),Object(n.createElement)("h2",null,Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(n.createElement)("div",{className:"bwf_clear_10"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-300"}),Object(n.createElement)("div",{className:"bwf_clear_5"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-210"}),Object(n.createElement)("p",null)),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].map((function(e,t){return Object(n.createElement)("div",{className:"bwf-recipe-item",key:t},Object(n.createElement)("div",{className:"bwf-recipe-title-wrap"},Object(n.createElement)("div",{className:"bwf-recipe-title"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}))),Object(n.createElement)("div",{className:"bwf-recipe-description bwfan_m0"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(n.createElement)("div",{className:"bwf-recipe-tags"},Object(n.createElement)("span",{className:"bwf-recipe-tag"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-20"}))))}))))):Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-recipe-sidebar"},Object(n.createElement)("ul",null,M.map((function(e,t){return Object(n.createElement)("li",{className:r()("bwf-recipe-filter-item",{"bwf-active-filter":D===e}),onClick:function(){D!==e&&I(e)},key:t},e)})))),Object(n.createElement)("div",{className:"bwf-recipe-item-wrapper"},B.hasOwnProperty(D)&&!Object(h.isEmpty)(B[D])&&Object(n.createElement)("div",{className:"bwf-recipe-group-wrap"},B[D].map((function(e,t){return Object(n.createElement)("div",{className:r()("bwf-recipe-group",{"bwf-active-group":R===e}),onClick:function(){T(e===R?"":e)},key:t},e)}))),Object(n.createElement)("div",{className:r()("bwf-recipe-items")},Object(h.isEmpty)(d)&&Object(n.createElement)("p",null,Object(N.__)("No Recipe Found")),d.map((function(e,t){return Object(n.createElement)("div",{className:"bwf-recipe-item",onClick:function(){P(e)},key:t},Object(n.createElement)("div",{className:"bwf-recipe-title-wrap"},Object(n.createElement)("div",{className:"bwf-recipe-title"},e.name),e.hasPRO&&Object(n.createElement)("div",{className:"bwf-recipe-paid"},Object(n.createElement)("span",null,Object(N.__)("PRO")))),Object(n.createElement)("div",{className:"bwf-recipe-description bwfan_m0"},e.description),Object(n.createElement)("div",{className:"bwf-recipe-tags"},!Object(h.isEmpty)(e.tag)&&Object.values(e.tag).map((function(e,t){return Object(n.createElement)("span",{className:r()("bwf-recipe-tag"),key:t},e)}))))}))))),Object(n.createElement)(J,{onRequestClose:function(){P({}),u(),Object(V.k)({},"/automations")},recipeData:S,isImporting:v,setIsImporting:E,showPreviewOnly:b}))))},te=function(){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-autom-info bwf-t-center"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}),Object(n.createElement)("div",{className:"bwf-autom-desc"},Object(n.createElement)("div",{className:"wffn-is-placeholder full-strip"}))),Object(n.createElement)("div",{className:"bwf-autom-action-wrap is-loading"},Object(n.createElement)("span",{className:"bwf-brand-logo"}),Object(n.createElement)("div",{className:"bwf-autom-about-action"},Object(n.createElement)("div",{className:"bwf-autom-about-title"},Object(n.createElement)("div",{className:"wffn-is-placeholder full-strip"})),Object(n.createElement)("div",{className:"bwf-autom-about-desc"},Object(n.createElement)("div",{className:"wffn-is-placeholder full-strip"}))),Object(n.createElement)("div",{className:"wffn-is-placeholder",style:{width:"36px"}})))},ae=function(){return Object(n.createElement)("div",{className:"bwf-autom-wrap"},te(),Object(n.createElement)("div",{className:"bwf-autom-recipe-section"},Object(n.createElement)("div",{className:"bwf-flex bwf--space-between"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}),Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"})),Object(n.createElement)("div",{className:"bwf-recipe-items"},Object(n.createElement)("div",{className:"bwf-recipe-item is-loading"},Object(n.createElement)("div",{className:"bwf-recipe-title-wrap"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"})),Object(n.createElement)("div",{className:"bwf-recipe-description bwfan_m0"},Object(n.createElement)("div",{className:"wffn-is-placeholder"})),Object(n.createElement)("div",{className:"bwf-recipe-tags"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}),Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}))),Object(n.createElement)("div",{className:"bwf-recipe-item is-loading"},Object(n.createElement)("div",{className:"bwf-recipe-title-wrap"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"})),Object(n.createElement)("div",{className:"bwf-recipe-description bwfan_m0"},Object(n.createElement)("div",{className:"wffn-is-placeholder"})),Object(n.createElement)("div",{className:"bwf-recipe-tags"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}),Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}))),Object(n.createElement)("div",{className:"bwf-recipe-item is-loading"},Object(n.createElement)("div",{className:"bwf-recipe-title-wrap"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"})),Object(n.createElement)("div",{className:"bwf-recipe-description bwfan_m0"},Object(n.createElement)("div",{className:"wffn-is-placeholder"})),Object(n.createElement)("div",{className:"bwf-recipe-tags"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}),Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}))),Object(n.createElement)("div",{className:"bwf-recipe-item is-loading"},Object(n.createElement)("div",{className:"bwf-recipe-title-wrap"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"})),Object(n.createElement)("div",{className:"bwf-recipe-description bwfan_m0"},Object(n.createElement)("div",{className:"wffn-is-placeholder"})),Object(n.createElement)("div",{className:"bwf-recipe-tags"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}),Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}))),Object(n.createElement)("div",{className:"bwf-recipe-item is-loading"},Object(n.createElement)("div",{className:"bwf-recipe-title-wrap"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"})),Object(n.createElement)("div",{className:"bwf-recipe-description bwfan_m0"},Object(n.createElement)("div",{className:"wffn-is-placeholder"})),Object(n.createElement)("div",{className:"bwf-recipe-tags"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}),Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}))),Object(n.createElement)("div",{className:"bwf-recipe-item is-loading"},Object(n.createElement)("div",{className:"bwf-recipe-title-wrap"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"})),Object(n.createElement)("div",{className:"bwf-recipe-description bwfan_m0"},Object(n.createElement)("div",{className:"wffn-is-placeholder"})),Object(n.createElement)("div",{className:"bwf-recipe-tags"},Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}),Object(n.createElement)("div",{className:"wffn-is-placeholder small-strip"}))))))},ne=a(66);function ce(e,t,a,n,c,r,i){try{var l=e[r](i),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(n,c)}function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(Object(a),!0).forEach((function(t){le(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function le(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,c,r=[],i=!0,l=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);i=!0);}catch(e){l=!0,c=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}window.wffn.automation_plugin_status;var be={install:{title:Object(N.__)("Automate your Funnels with FunnelKit Automations","funnel-builder"),description:Object(N.__)("Earn more from your funnels by using marketing automation. And bring users into the funnels & convert them into buyers again.","funnel-builder"),cta:Object(N.__)("Activate","funnel-builder"),loadingText:Object(N.__)("Activating","funnel-builder")},activate:{title:Object(N.__)("Automate your Funnels with FunnelKit Automations","funnel-builder"),description:Object(N.__)("Earn more from your funnels by using marketing automation. And bring users into the funnels & convert them into buyers again.","funnel-builder"),cta:Object(N.__)("Activate","funnel-builder"),loadingText:Object(N.__)("Activating","funnel-builder")},activated:{title:Object(N.__)("FunnelKit Automations Activated","funnel-builder"),description:Object(N.__)("Earn more from your funnels by using marketing automation. And bring users into the funnels & convert them into buyers again.","funnel-builder"),cta:Object(N.__)("Go to Automation","funnel-builder"),loadingText:""}};t.default=function(){var e,t=f(),a=t.getRecipes,c=t.getAutonamiStatus,l=t.getLoading,s=t.getAutomationCount,o=y(),b=o.fetch,m=o.setAutonamiStatus,u=o.setAutomationCount,d=Object(g.a)(),O=d.resetHeaderMenu,w=d.setPageHeader,j=d.setActiveMultiple,v=a(),E=Object(n.useContext)(p.a),C=v.data,A=void 0===C?[]:C,P=v.filters,x=void 0===P?{}:P,D=null!==(e=c())&&void 0!==e?e:"install",I=l(),F=se(Object(n.useState)(!1),2),R=F[0],T=F[1],L=se(Object(n.useState)(!1),2),M=L[0],z=L[1],B=se(Object(n.useState)(!1),2),q=B[0],U=B[1],G=se(Object(n.useState)(!1),2),K=G[0],H=G[1],Z=se(Object(n.useState)({}),2),$=Z[0],W=Z[1],Y=s(),J=Object(ne.a)().updateStatus;Object(n.useEffect)((function(){Object(h.isEmpty)(A)&&"activated"!==D&&b(),O(),w(Object(N.__)("Automations","funnel-builder")),j({leftNav:"automations",rightNav:""}),Y.success||"activated"!==D||X(),Object(p.b)(Object(N.__)("Autonami Setup","funnel-builder"))}),[]);var Q,X=function(){u(ie(ie({},Y),{},{isLoading:!0})),S()({path:Object(p.g)("/woofunnels-admin/automation")}).then((function(e){200===e.code&&e.result&&u({count:e.result.count,version:-1!==e.result.version.indexOf(".beta")?e.result.version.slice(0,e.result.version.indexOf(".beta")):e.result.version,isLoading:!1,success:!0})})).catch((function(e){u(ie(ie({},Y),{},{isLoading:!1})),console.log("Error fetching automation count: ",e)}))},re=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),t={optionkey:"skip_automation_page",optionval:1,action:"update_fb_site_options"},e.next=5,S()({path:Object(p.g)("woofunnels-admin/user-preference"),method:"POST",data:t}).then((function(e){e.success&&(E(Object(N.__)("Preference Updated. Redirecting to Dashboard…","funnel-builder")),U(!1),window.location.href=window.wffn.admin_url+"admin.php?page=bwf"),U(!1)})).catch((function(e){U(!1)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),U(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,a=arguments;return new Promise((function(n,c){var r=e.apply(t,a);function i(e){ce(r,n,c,i,l,"next",e)}function l(e){ce(r,n,c,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return I&&"activated"!==D?Object(n.createElement)(ae,null):Object(n.createElement)("div",{className:"bwf-autom-wrap"},Y.isLoading?te():Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-autom-info bwf-t-center"},Object(n.createElement)("div",{className:"bwf-autom-heading"},"install"!==D&&Object(n.createElement)(_.a,{icon:"circle-tick-1",size:24}),be[D]&&be[D].title),Object(n.createElement)("div",{className:"bwf-autom-desc"},be[D]&&be[D].description)),Object(n.createElement)("div",{className:"bwf-autom-action-wrap"},Object(n.createElement)("span",{className:"bwf-brand-logo"},Object(n.createElement)(_.a,{icon:"logo"})),Object(n.createElement)("div",{className:"bwf-autom-about-action"},Object(n.createElement)("div",{className:"bwf-autom-about-title"},(Q=Object(N.__)("Install and Activate FunnelKit Automations","funnel-builder"),"activated"===D&&(Q=0!==parseInt(Y.count)?Object(N.__)("Currently you have ".concat(parseInt(Y.count)," automations active")):Object(N.__)("You have 0 automations active")),Q)),"activated"!==D&&Object(n.createElement)("div",{className:"bwf-autom-about-desc"},Object(N.__)("By using automation create Abandoned Cart Recovery, Post Purchase Follow-Ups","funnel-builder"))),Object(n.createElement)(k.Button,{isPrimary:!0,onClick:function(){if("activated"!==D)try{if(R)return;T(!0),S()({path:Object(p.g)("woofunnels-admin/funnels/activate-plugin/?slug=wp-marketing-automations&init=wp-marketing-automations/wp-marketing-automations.php&status=".concat(D,"\n                    ")),method:"POST"}).then((function(e){e.success&&!0===e.success&&(m("activated"),X(),E(e.message),Object(p.s)(E,5e3),J({automations:!0}))})).finally((function(){T(!1)}))}catch(e){console.log("Failed Automation Installtion",e)}else 0===parseInt(Y.count)&&Object(i.gte)(Y.version,"2.1.0")?window.location.href="admin.php?page=autonami&path=/automations/create":window.location.href="admin.php?page=autonami&path=/automations"},isBusy:R,className:"bwf-btn-large",disabled:R},R?be[D].loadingText:be[D].cta))),"activated"!==D&&Object(n.createElement)("div",{className:"bwf-autom-recipe-section"},Object(n.createElement)("div",{className:"bwf-flex bwf--space-between"},Object(n.createElement)("div",null,Object(n.createElement)("div",{className:"bwf-autom-recipe-title"},Object(N.__)("Automation Recipes","funnel-builder")),Object(n.createElement)("div",{className:"bwf-autom-recipe-desc"},Object(N.__)("We have our 30+ automation receipes top quick start your autmation funnels","funnel-builder"))),Object(n.createElement)(k.Button,{className:"bwf-button-link",onClick:function(){return z(!0)}},Object(N.__)("View All","funnel-builder"),Object(n.createElement)(_.a,{icon:"arrow-right",size:20,color:"#0073AA"}))),Object(n.createElement)("div",{className:"bwf-recipe-items"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=[];if(!Object(h.isEmpty)(A))for(var a=function(e){var a=A[e];t.push(Object(n.createElement)("div",{className:"bwf-recipe-item",onClick:function(){W(a),H(!0),Object(V.k)({},"/automations/recipe/".concat(a.slug))},key:e},Object(n.createElement)("div",{className:"bwf-recipe-title-wrap"},Object(n.createElement)("div",{className:"bwf-recipe-title"},a.name)),Object(n.createElement)("div",{className:"bwf-recipe-description bwfan_m0"},a.description),Object(n.createElement)("div",{className:"bwf-recipe-tags"},!Object(h.isEmpty)(a.tag)&&Object.values(a.tag).map((function(e,t){return Object(n.createElement)("span",{className:r()("bwf-recipe-tag"),key:t},e)})))))},c=0;c<=e;c++)a(c);return t}(5))),"activated"===D&&Object(n.createElement)("div",{className:"bwf-autom-recipe-skip-section"},Object(n.createElement)(k.Button,{isSecondary:!0,onClick:re,disabled:q,isBusy:q},Object(N.__)("Dismiss Screen","funnel-builder"))),(M||K)&&Object(n.createElement)(ee,{onRequestClose:function(){z(!1),W({})},recipeData:A,onPreviewClose:function(){H(!1),W({})},showPreviewOnly:K,recipeFilters:x,previewData:$}))}}}]);